(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{169:function(e,t,s){"use strict";s.r(t);var n=s(0),a=Object(n.a)({},(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"content"},[s("p",[e._v("ä¸€ã€‚MyBatis")]),e._v(" "),e._m(0),e._v(" "),s("p",[e._v("â€‹")]),e._v(" "),e._m(1),e._v(" "),s("p",[e._v("äºŒã€‚Redis")]),e._v(" "),e._m(2),e._v(" "),s("p",[e._v("ç”±äºRedisçš„æ•°æ®éƒ½å­˜æ”¾åœ¨å†…å­˜ä¸­ï¼Œå¦‚æœæ²¡æœ‰é…ç½®æŒä¹…åŒ–ï¼Œredisé‡å¯åæ•°æ®å°±å…¨ä¸¢å¤±äº†ï¼Œäºæ˜¯éœ€è¦å¼€å¯redisçš„æŒä¹…åŒ–åŠŸèƒ½ï¼Œå°†æ•°æ®ä¿å­˜åˆ°ç£ç›˜ä¸Šï¼Œå½“redisé‡å¯åï¼Œå¯ä»¥ä»ç£ç›˜ä¸­æ¢å¤æ•°æ®ã€‚redisæä¾›ä¸¤ç§æ–¹å¼è¿›è¡ŒæŒä¹…åŒ–ï¼Œä¸€ç§æ˜¯RDBæŒä¹…åŒ–ï¼ˆåŸç†æ˜¯å°†Reidsåœ¨å†…å­˜ä¸­çš„æ•°æ®åº“è®°å½•å®šæ—¶dumpåˆ°ç£ç›˜ä¸Šçš„RDBæŒä¹…åŒ–ï¼‰ï¼Œå¦å¤–ä¸€ç§æ˜¯AOFï¼ˆappend only fileï¼‰æŒä¹…åŒ–ï¼ˆåŸç†æ˜¯å°†Reidsçš„æ“ä½œæ—¥å¿—ä»¥è¿½åŠ çš„æ–¹å¼å†™å…¥æ–‡ä»¶ï¼‰ã€‚é‚£ä¹ˆè¿™ä¸¤ç§æŒä¹…åŒ–æ–¹å¼æœ‰ä»€ä¹ˆåŒºåˆ«å‘¢ï¼Œæ”¹å¦‚ä½•é€‰æ‹©å‘¢ï¼Ÿç½‘ä¸Šçœ‹äº†å¤§å¤šæ•°éƒ½æ˜¯ä»‹ç»è¿™ä¸¤ç§æ–¹å¼æ€ä¹ˆé…ç½®ï¼Œæ€ä¹ˆä½¿ç”¨ï¼Œå°±æ˜¯æ²¡æœ‰ä»‹ç»äºŒè€…çš„åŒºåˆ«ï¼Œåœ¨ä»€ä¹ˆåº”ç”¨åœºæ™¯ä¸‹ä½¿ç”¨ã€‚")]),e._v(" "),s("p",[e._v("2ã€äºŒè€…çš„åŒºåˆ«")]),e._v(" "),s("p",[e._v("RDBæŒä¹…åŒ–æ˜¯æŒ‡åœ¨æŒ‡å®šçš„æ—¶é—´é—´éš”å†…å°†å†…å­˜ä¸­çš„æ•°æ®é›†å¿«ç…§å†™å…¥ç£ç›˜ï¼Œå®é™…æ“ä½œè¿‡ç¨‹æ˜¯forkä¸€ä¸ªå­è¿›ç¨‹ï¼Œå…ˆå°†æ•°æ®é›†å†™å…¥ä¸´æ—¶æ–‡ä»¶ï¼Œå†™å…¥æˆåŠŸåï¼Œå†æ›¿æ¢ä¹‹å‰çš„æ–‡ä»¶ï¼Œç”¨äºŒè¿›åˆ¶å‹ç¼©å­˜å‚¨ã€‚")]),e._v(" "),e._m(3),e._v(" "),s("p",[e._v("AOFæŒä¹…åŒ–ä»¥æ—¥å¿—çš„å½¢å¼è®°å½•æœåŠ¡å™¨æ‰€å¤„ç†çš„æ¯ä¸€ä¸ªå†™ã€åˆ é™¤æ“ä½œï¼ŒæŸ¥è¯¢æ“ä½œä¸ä¼šè®°å½•ï¼Œä»¥æ–‡æœ¬çš„æ–¹å¼è®°å½•ï¼Œå¯ä»¥æ‰“å¼€æ–‡ä»¶çœ‹åˆ°è¯¦ç»†çš„æ“ä½œè®°å½•ã€‚")]),e._v(" "),e._m(4),e._v(" "),s("p",[e._v("3ã€äºŒè€…ä¼˜ç¼ºç‚¹")]),e._v(" "),s("p",[e._v("RDBå­˜åœ¨å“ªäº›ä¼˜åŠ¿å‘¢ï¼Ÿ")]),e._v(" "),s("p",[e._v("1). ä¸€æ—¦é‡‡ç”¨è¯¥æ–¹å¼ï¼Œé‚£ä¹ˆä½ çš„æ•´ä¸ªRedisæ•°æ®åº“å°†åªåŒ…å«ä¸€ä¸ªæ–‡ä»¶ï¼Œè¿™å¯¹äºæ–‡ä»¶å¤‡ä»½è€Œè¨€æ˜¯éå¸¸å®Œç¾çš„ã€‚æ¯”å¦‚ï¼Œä½ å¯èƒ½æ‰“ç®—æ¯ä¸ªå°æ—¶å½’æ¡£ä¸€æ¬¡æœ€è¿‘24å°æ—¶çš„æ•°æ®ï¼ŒåŒæ—¶è¿˜è¦æ¯å¤©å½’æ¡£ä¸€æ¬¡æœ€è¿‘30å¤©çš„æ•°æ®ã€‚é€šè¿‡è¿™æ ·çš„å¤‡ä»½ç­–ç•¥ï¼Œä¸€æ—¦ç³»ç»Ÿå‡ºç°ç¾éš¾æ€§æ•…éšœï¼Œæˆ‘ä»¬å¯ä»¥éå¸¸å®¹æ˜“çš„è¿›è¡Œæ¢å¤ã€‚")]),e._v(" "),s("p",[e._v("2). å¯¹äºç¾éš¾æ¢å¤è€Œè¨€ï¼ŒRDBæ˜¯éå¸¸ä¸é”™çš„é€‰æ‹©ã€‚å› ä¸ºæˆ‘ä»¬å¯ä»¥éå¸¸è½»æ¾çš„å°†ä¸€ä¸ªå•ç‹¬çš„æ–‡ä»¶å‹ç¼©åå†è½¬ç§»åˆ°å…¶å®ƒå­˜å‚¨ä»‹è´¨ä¸Šã€‚")]),e._v(" "),s("p",[e._v("3). æ€§èƒ½æœ€å¤§åŒ–ã€‚å¯¹äºRedisçš„æœåŠ¡è¿›ç¨‹è€Œè¨€ï¼Œåœ¨å¼€å§‹æŒä¹…åŒ–æ—¶ï¼Œå®ƒå”¯ä¸€éœ€è¦åšçš„åªæ˜¯forkå‡ºå­è¿›ç¨‹ï¼Œä¹‹åå†ç”±å­è¿›ç¨‹å®Œæˆè¿™äº›æŒä¹…åŒ–çš„å·¥ä½œï¼Œè¿™æ ·å°±å¯ä»¥æå¤§çš„é¿å…æœåŠ¡è¿›ç¨‹æ‰§è¡ŒIOæ“ä½œäº†ã€‚")]),e._v(" "),s("p",[e._v("4). ç›¸æ¯”äºAOFæœºåˆ¶ï¼Œå¦‚æœæ•°æ®é›†å¾ˆå¤§ï¼ŒRDBçš„å¯åŠ¨æ•ˆç‡ä¼šæ›´é«˜ã€‚")]),e._v(" "),s("p",[e._v("RDBåˆå­˜åœ¨å“ªäº›åŠ£åŠ¿å‘¢ï¼Ÿ")]),e._v(" "),s("p",[e._v("1). å¦‚æœä½ æƒ³ä¿è¯æ•°æ®çš„é«˜å¯ç”¨æ€§ï¼Œå³æœ€å¤§é™åº¦çš„é¿å…æ•°æ®ä¸¢å¤±ï¼Œé‚£ä¹ˆRDBå°†ä¸æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„é€‰æ‹©ã€‚å› ä¸ºç³»ç»Ÿä¸€æ—¦åœ¨å®šæ—¶æŒä¹…åŒ–ä¹‹å‰å‡ºç°å®•æœºç°è±¡ï¼Œæ­¤å‰æ²¡æœ‰æ¥å¾—åŠå†™å…¥ç£ç›˜çš„æ•°æ®éƒ½å°†ä¸¢å¤±ã€‚")]),e._v(" "),s("p",[e._v("2). ç”±äºRDBæ˜¯é€šè¿‡forkå­è¿›ç¨‹æ¥ååŠ©å®Œæˆæ•°æ®æŒä¹…åŒ–å·¥ä½œçš„ï¼Œå› æ­¤ï¼Œå¦‚æœå½“æ•°æ®é›†è¾ƒå¤§æ—¶ï¼Œå¯èƒ½ä¼šå¯¼è‡´æ•´ä¸ªæœåŠ¡å™¨åœæ­¢æœåŠ¡å‡ ç™¾æ¯«ç§’ï¼Œç”šè‡³æ˜¯1ç§’é’Ÿã€‚")]),e._v(" "),s("p",[e._v("AOFçš„ä¼˜åŠ¿æœ‰å“ªäº›å‘¢ï¼Ÿ")]),e._v(" "),s("p",[e._v("1). è¯¥æœºåˆ¶å¯ä»¥å¸¦æ¥æ›´é«˜çš„æ•°æ®å®‰å…¨æ€§ï¼Œå³æ•°æ®æŒä¹…æ€§ã€‚Redisä¸­æä¾›äº†3ä¸­åŒæ­¥ç­–ç•¥ï¼Œå³æ¯ç§’åŒæ­¥ã€æ¯ä¿®æ”¹åŒæ­¥å’Œä¸åŒæ­¥ã€‚äº‹å®ä¸Šï¼Œæ¯ç§’åŒæ­¥ä¹Ÿæ˜¯å¼‚æ­¥å®Œæˆçš„ï¼Œå…¶æ•ˆç‡ä¹Ÿæ˜¯éå¸¸é«˜çš„ï¼Œæ‰€å·®çš„æ˜¯ä¸€æ—¦ç³»ç»Ÿå‡ºç°å®•æœºç°è±¡ï¼Œé‚£ä¹ˆè¿™ä¸€ç§’é’Ÿä¹‹å†…ä¿®æ”¹çš„æ•°æ®å°†ä¼šä¸¢å¤±ã€‚è€Œæ¯ä¿®æ”¹åŒæ­¥ï¼Œæˆ‘ä»¬å¯ä»¥å°†å…¶è§†ä¸ºåŒæ­¥æŒä¹…åŒ–ï¼Œå³æ¯æ¬¡å‘ç”Ÿçš„æ•°æ®å˜åŒ–éƒ½ä¼šè¢«ç«‹å³è®°å½•åˆ°ç£ç›˜ä¸­ã€‚å¯ä»¥é¢„è§ï¼Œè¿™ç§æ–¹å¼åœ¨æ•ˆç‡ä¸Šæ˜¯æœ€ä½çš„ã€‚è‡³äºæ— åŒæ­¥ï¼Œæ— éœ€å¤šè¨€ï¼Œæˆ‘æƒ³å¤§å®¶éƒ½èƒ½æ­£ç¡®çš„ç†è§£å®ƒã€‚")]),e._v(" "),s("p",[e._v("2). ç”±äºè¯¥æœºåˆ¶å¯¹æ—¥å¿—æ–‡ä»¶çš„å†™å…¥æ“ä½œé‡‡ç”¨çš„æ˜¯appendæ¨¡å¼ï¼Œå› æ­¤åœ¨å†™å…¥è¿‡ç¨‹ä¸­å³ä½¿å‡ºç°å®•æœºç°è±¡ï¼Œä¹Ÿä¸ä¼šç ´åæ—¥å¿—æ–‡ä»¶ä¸­å·²ç»å­˜åœ¨çš„å†…å®¹ã€‚ç„¶è€Œå¦‚æœæˆ‘ä»¬æœ¬æ¬¡æ“ä½œåªæ˜¯å†™å…¥äº†ä¸€åŠæ•°æ®å°±å‡ºç°äº†ç³»ç»Ÿå´©æºƒé—®é¢˜ï¼Œä¸ç”¨æ‹…å¿ƒï¼Œåœ¨Redisä¸‹ä¸€æ¬¡å¯åŠ¨ä¹‹å‰ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡redis-check-aofå·¥å…·æ¥å¸®åŠ©æˆ‘ä»¬è§£å†³æ•°æ®ä¸€è‡´æ€§çš„é—®é¢˜ã€‚")]),e._v(" "),s("p",[e._v("3). å¦‚æœæ—¥å¿—è¿‡å¤§ï¼ŒRediså¯ä»¥è‡ªåŠ¨å¯ç”¨rewriteæœºåˆ¶ã€‚å³Redisä»¥appendæ¨¡å¼ä¸æ–­çš„å°†ä¿®æ”¹æ•°æ®å†™å…¥åˆ°è€çš„ç£ç›˜æ–‡ä»¶ä¸­ï¼ŒåŒæ—¶Redisè¿˜ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„æ–‡ä»¶ç”¨äºè®°å½•æ­¤æœŸé—´æœ‰å“ªäº›ä¿®æ”¹å‘½ä»¤è¢«æ‰§è¡Œã€‚å› æ­¤åœ¨è¿›è¡Œrewriteåˆ‡æ¢æ—¶å¯ä»¥æ›´å¥½çš„ä¿è¯æ•°æ®å®‰å…¨æ€§ã€‚")]),e._v(" "),s("p",[e._v("4). AOFåŒ…å«ä¸€ä¸ªæ ¼å¼æ¸…æ™°ã€æ˜“äºç†è§£çš„æ—¥å¿—æ–‡ä»¶ç”¨äºè®°å½•æ‰€æœ‰çš„ä¿®æ”¹æ“ä½œã€‚äº‹å®ä¸Šï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥é€šè¿‡è¯¥æ–‡ä»¶å®Œæˆæ•°æ®çš„é‡å»ºã€‚")]),e._v(" "),s("p",[e._v("AOFçš„åŠ£åŠ¿æœ‰å“ªäº›å‘¢ï¼Ÿ")]),e._v(" "),s("p",[e._v("1). å¯¹äºç›¸åŒæ•°é‡çš„æ•°æ®é›†è€Œè¨€ï¼ŒAOFæ–‡ä»¶é€šå¸¸è¦å¤§äºRDBæ–‡ä»¶ã€‚RDB åœ¨æ¢å¤å¤§æ•°æ®é›†æ—¶çš„é€Ÿåº¦æ¯” AOF çš„æ¢å¤é€Ÿåº¦è¦å¿«ã€‚")]),e._v(" "),s("p",[e._v("2). æ ¹æ®åŒæ­¥ç­–ç•¥çš„ä¸åŒï¼ŒAOFåœ¨è¿è¡Œæ•ˆç‡ä¸Šå¾€å¾€ä¼šæ…¢äºRDBã€‚æ€»ä¹‹ï¼Œæ¯ç§’åŒæ­¥ç­–ç•¥çš„æ•ˆç‡æ˜¯æ¯”è¾ƒé«˜çš„ï¼ŒåŒæ­¥ç¦ç”¨ç­–ç•¥çš„æ•ˆç‡å’ŒRDBä¸€æ ·é«˜æ•ˆã€‚")]),e._v(" "),s("p",[e._v("äºŒè€…é€‰æ‹©çš„æ ‡å‡†ï¼Œå°±æ˜¯çœ‹ç³»ç»Ÿæ˜¯æ„¿æ„ç‰ºç‰²ä¸€äº›æ€§èƒ½ï¼Œæ¢å–æ›´é«˜çš„ç¼“å­˜ä¸€è‡´æ€§ï¼ˆaofï¼‰ï¼Œè¿˜æ˜¯æ„¿æ„å†™æ“ä½œé¢‘ç¹çš„æ—¶å€™ï¼Œä¸å¯ç”¨å¤‡ä»½æ¥æ¢å–æ›´é«˜çš„æ€§èƒ½ï¼Œå¾…æ‰‹åŠ¨è¿è¡Œsaveçš„æ—¶å€™ï¼Œå†åšå¤‡ä»½ï¼ˆrdbï¼‰ã€‚rdbè¿™ä¸ªå°±æ›´æœ‰äº› eventually consistentçš„æ„æ€äº†ã€‚")]),e._v(" "),s("p",[e._v("4ã€å¸¸ç”¨é…ç½®")]),e._v(" "),s("p",[e._v("RDBæŒä¹…åŒ–é…ç½®")]),e._v(" "),s("p",[e._v("Redisä¼šå°†æ•°æ®é›†çš„å¿«ç…§dumpåˆ°dump.rdbæ–‡ä»¶ä¸­ã€‚æ­¤å¤–ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥é€šè¿‡é…ç½®æ–‡ä»¶æ¥ä¿®æ”¹RedisæœåŠ¡å™¨dumpå¿«ç…§çš„é¢‘ç‡ï¼Œåœ¨æ‰“å¼€6379.confæ–‡ä»¶ä¹‹åï¼Œæˆ‘ä»¬æœç´¢saveï¼Œå¯ä»¥çœ‹åˆ°ä¸‹é¢çš„é…ç½®ä¿¡æ¯ï¼š")]),e._v(" "),s("p",[e._v("save 900 1       #åœ¨900ç§’(15åˆ†é’Ÿ)ä¹‹åï¼Œå¦‚æœè‡³å°‘æœ‰1ä¸ªkeyå‘ç”Ÿå˜åŒ–ï¼Œåˆ™dumpå†…å­˜å¿«ç…§ã€‚")]),e._v(" "),s("p",[e._v("save 300 10      #åœ¨300ç§’(5åˆ†é’Ÿ)ä¹‹åï¼Œå¦‚æœè‡³å°‘æœ‰10ä¸ªkeyå‘ç”Ÿå˜åŒ–ï¼Œåˆ™dumpå†…å­˜å¿«ç…§ã€‚")]),e._v(" "),s("p",[e._v("save 60 10000    #åœ¨60ç§’(1åˆ†é’Ÿ)ä¹‹åï¼Œå¦‚æœè‡³å°‘æœ‰10000ä¸ªkeyå‘ç”Ÿå˜åŒ–ï¼Œåˆ™dumpå†…å­˜å¿«ç…§ã€‚")]),e._v(" "),s("p",[e._v("AOFæŒä¹…åŒ–é…ç½®")]),e._v(" "),s("p",[e._v("åœ¨Redisçš„é…ç½®æ–‡ä»¶ä¸­å­˜åœ¨ä¸‰ç§åŒæ­¥æ–¹å¼ï¼Œå®ƒä»¬åˆ†åˆ«æ˜¯ï¼š")]),e._v(" "),s("p",[e._v("appendfsync always   #æ¯æ¬¡æœ‰æ•°æ®ä¿®æ”¹å‘ç”Ÿæ—¶éƒ½ä¼šå†™å…¥AOFæ–‡ä»¶ã€‚")]),e._v(" "),s("p",[e._v("appendfsync everysec #æ¯ç§’é’ŸåŒæ­¥ä¸€æ¬¡ï¼Œè¯¥ç­–ç•¥ä¸ºAOFçš„ç¼ºçœç­–ç•¥ã€‚")]),e._v(" "),s("p",[e._v("appendfsync no     #ä»ä¸åŒæ­¥ã€‚é«˜æ•ˆä½†æ˜¯æ•°æ®ä¸ä¼šè¢«æŒä¹…åŒ–ã€‚")]),e._v(" "),e._m(5),e._v(" "),s("p",[e._v("å®é™…MySQLæ˜¯é€‚åˆè¿›è¡Œæµ·é‡æ•°æ®å­˜å‚¨çš„ï¼Œé€šè¿‡Memcachedå°†çƒ­ç‚¹æ•°æ®åŠ è½½åˆ°cacheï¼ŒåŠ é€Ÿè®¿é—®ï¼Œå¾ˆå¤šå…¬å¸éƒ½æ›¾ç»ä½¿ç”¨è¿‡è¿™æ ·çš„æ¶æ„ï¼Œä½†éšç€ä¸šåŠ¡æ•°æ®é‡çš„ä¸æ–­å¢åŠ ï¼Œå’Œè®¿é—®é‡çš„æŒç»­å¢é•¿ï¼Œæˆ‘ä»¬é‡åˆ°äº†å¾ˆå¤šé—®é¢˜ï¼š")]),e._v(" "),s("p",[e._v("1.MySQLéœ€è¦ä¸æ–­è¿›è¡Œæ‹†åº“æ‹†è¡¨ï¼ŒMemcachedä¹Ÿéœ€ä¸æ–­è·Ÿç€æ‰©å®¹ï¼Œæ‰©å®¹å’Œç»´æŠ¤å·¥ä½œå æ®å¤§é‡å¼€å‘æ—¶é—´ã€‚")]),e._v(" "),s("p",[e._v("2.Memcachedä¸MySQLæ•°æ®åº“æ•°æ®ä¸€è‡´æ€§é—®é¢˜ã€‚")]),e._v(" "),s("p",[e._v("3.Memcachedæ•°æ®å‘½ä¸­ç‡ä½æˆ–downæœºï¼Œå¤§é‡è®¿é—®ç›´æ¥ç©¿é€åˆ°DBï¼ŒMySQLæ— æ³•æ”¯æ’‘ã€‚")]),e._v(" "),s("p",[e._v("4.è·¨æœºæˆ¿cacheåŒæ­¥é—®é¢˜ã€‚")]),e._v(" "),s("p",[e._v("ä¼—å¤šNoSQLç™¾èŠ±é½æ”¾ï¼Œå¦‚ä½•é€‰æ‹©")]),e._v(" "),s("p",[e._v("æœ€è¿‘å‡ å¹´ï¼Œä¸šç•Œä¸æ–­æ¶Œç°å‡ºå¾ˆå¤šå„ç§å„æ ·çš„NoSQLäº§å“ï¼Œé‚£ä¹ˆå¦‚ä½•æ‰èƒ½æ­£ç¡®åœ°ä½¿ç”¨å¥½è¿™äº›äº§å“ï¼Œæœ€å¤§åŒ–åœ°å‘æŒ¥å…¶é•¿å¤„ï¼Œæ˜¯æˆ‘ä»¬éœ€è¦æ·±å…¥ç ”ç©¶å’Œæ€è€ƒçš„é—®é¢˜ï¼Œå®é™…å½’æ ¹ç»“åº•æœ€é‡è¦çš„æ˜¯äº†è§£è¿™äº›äº§å“çš„å®šä½ï¼Œå¹¶ä¸”äº†è§£åˆ°æ¯æ¬¾äº§å“çš„tradeoffsï¼Œåœ¨å®é™…åº”ç”¨ä¸­åšåˆ°æ‰¬é•¿é¿çŸ­ï¼Œæ€»ä½“ä¸Šè¿™äº›NoSQLä¸»è¦ç”¨äºè§£å†³ä»¥ä¸‹å‡ ç§é—®é¢˜")]),e._v(" "),s("p",[e._v("1.å°‘é‡æ•°æ®å­˜å‚¨ï¼Œé«˜é€Ÿè¯»å†™è®¿é—®ã€‚æ­¤ç±»äº§å“é€šè¿‡æ•°æ®å…¨éƒ¨in-momery çš„æ–¹å¼æ¥ä¿è¯é«˜é€Ÿè®¿é—®ï¼ŒåŒæ—¶æä¾›æ•°æ®è½åœ°çš„åŠŸèƒ½ï¼Œå®é™…è¿™æ­£æ˜¯Redisæœ€ä¸»è¦çš„é€‚ç”¨åœºæ™¯ã€‚")]),e._v(" "),s("p",[e._v("2.æµ·é‡æ•°æ®å­˜å‚¨ï¼Œåˆ†å¸ƒå¼ç³»ç»Ÿæ”¯æŒï¼Œæ•°æ®ä¸€è‡´æ€§ä¿è¯ï¼Œæ–¹ä¾¿çš„é›†ç¾¤èŠ‚ç‚¹æ·»åŠ /åˆ é™¤ã€‚")]),e._v(" "),s("p",[e._v("3.è¿™æ–¹é¢æœ€å…·ä»£è¡¨æ€§çš„æ˜¯dynamoå’Œbigtable 2ç¯‡è®ºæ–‡æ‰€é˜è¿°çš„æ€è·¯ã€‚å‰è€…æ˜¯ä¸€ä¸ªå®Œå…¨æ— ä¸­å¿ƒçš„è®¾è®¡ï¼ŒèŠ‚ç‚¹ä¹‹é—´é€šè¿‡gossipæ–¹å¼ä¼ é€’é›†ç¾¤ä¿¡æ¯ï¼Œæ•°æ®ä¿è¯æœ€ç»ˆä¸€è‡´æ€§ï¼Œåè€…æ˜¯ä¸€ä¸ªä¸­å¿ƒåŒ–çš„æ–¹æ¡ˆè®¾è®¡ï¼Œé€šè¿‡ç±»ä¼¼ä¸€ä¸ªåˆ†å¸ƒå¼é”æœåŠ¡æ¥ä¿è¯å¼ºä¸€è‡´æ€§,æ•°æ®å†™å…¥å…ˆå†™"),s("a",{attrs:{href:"http://product.it168.com/list/b/0205_1.shtml",target:"_blank",rel:"noopener noreferrer"}},[e._v("å†…å­˜"),s("OutboundLink")],1),e._v("å’Œredo logï¼Œç„¶åå®šæœŸcompatå½’å¹¶åˆ°ç£ç›˜ä¸Šï¼Œå°†éšæœºå†™ä¼˜åŒ–ä¸ºé¡ºåºå†™ï¼Œæé«˜å†™å…¥æ€§èƒ½ã€‚")]),e._v(" "),s("p",[e._v("4.Schema freeï¼Œauto-shardingç­‰ã€‚æ¯”å¦‚ç›®å‰å¸¸è§çš„ä¸€äº›æ–‡æ¡£æ•°æ®åº“éƒ½æ˜¯æ”¯æŒschema-freeçš„ï¼Œç›´æ¥å­˜å‚¨jsonæ ¼å¼æ•°æ®ï¼Œå¹¶ä¸”æ”¯æŒauto-shardingç­‰åŠŸèƒ½ï¼Œæ¯”å¦‚mongodbã€‚")]),e._v(" "),s("p",[e._v("â€‹    Redisæœ€é€‚åˆæ‰€æœ‰æ•°æ®in-momoryçš„åœºæ™¯ï¼Œè™½ç„¶Redisä¹Ÿæä¾›æŒä¹…åŒ–åŠŸèƒ½ï¼Œä½†å®é™…æ›´å¤šçš„æ˜¯ä¸€ä¸ªdisk-backedçš„åŠŸèƒ½ï¼Œè·Ÿä¼ ç»Ÿæ„ä¹‰ä¸Šçš„æŒä¹…åŒ–æœ‰æ¯”è¾ƒå¤§çš„å·®åˆ«ï¼Œé‚£ä¹ˆå¯èƒ½å¤§å®¶å°±ä¼šæœ‰ç–‘é—®ï¼Œä¼¼ä¹Redisæ›´åƒä¸€ä¸ªåŠ å¼ºç‰ˆçš„Memcachedï¼Œé‚£ä¹ˆä½•æ—¶ä½¿ç”¨Memcached,ä½•æ—¶ä½¿ç”¨Rediså‘¢?")]),e._v(" "),s("p",[e._v("â€‹    å¦‚æœç®€å•åœ°æ¯”è¾ƒRedisä¸Memcachedçš„åŒºåˆ«ï¼Œå¤§å¤šæ•°éƒ½ä¼šå¾—åˆ°ä»¥ä¸‹è§‚ç‚¹ï¼š")]),e._v(" "),s("p",[e._v("1 ã€Redisä¸ä»…ä»…æ”¯æŒç®€å•çš„k/vç±»å‹çš„æ•°æ®ï¼ŒåŒæ—¶è¿˜æä¾›listï¼Œsetï¼Œzsetï¼Œhashç­‰æ•°æ®ç»“æ„çš„å­˜å‚¨ã€‚\n2 ã€Redisæ”¯æŒæ•°æ®çš„å¤‡ä»½ï¼Œå³master-slaveæ¨¡å¼çš„æ•°æ®å¤‡ä»½ã€‚\n3 ã€Redisæ”¯æŒæ•°æ®çš„æŒä¹…åŒ–ï¼Œå¯ä»¥å°†å†…å­˜ä¸­çš„æ•°æ®ä¿æŒåœ¨ç£ç›˜ä¸­ï¼Œé‡å¯çš„æ—¶å€™å¯ä»¥å†æ¬¡åŠ è½½è¿›è¡Œä½¿ç”¨ã€‚")]),e._v(" "),s("p",[e._v("é€šè¿‡ä¸€å¼ å›¾äº†è§£ä¸‹Rediså†…éƒ¨å†…å­˜ç®¡ç†ä¸­æ˜¯å¦‚ä½•æè¿°è¿™äº›ä¸åŒæ•°æ®ç±»å‹çš„ï¼š")]),e._v(" "),e._m(6),e._v(" "),s("p",[e._v('é¦–å…ˆRediså†…éƒ¨ä½¿ç”¨ä¸€ä¸ªredisObjectå¯¹è±¡æ¥è¡¨ç¤ºæ‰€æœ‰çš„keyå’Œvalueï¼ŒredisObjectæœ€ä¸»è¦çš„ä¿¡æ¯å¦‚ä¸Šå›¾æ‰€ç¤ºï¼štypeä»£è¡¨ä¸€ä¸ªvalueå¯¹è±¡å…·ä½“æ˜¯ä½•ç§æ•°æ®ç±»å‹ï¼Œencodingæ˜¯ä¸åŒæ•°æ®ç±»å‹åœ¨rediså†…éƒ¨çš„å­˜å‚¨æ–¹å¼ï¼Œæ¯”å¦‚ï¼štype=stringä»£è¡¨valueå­˜å‚¨çš„æ˜¯ä¸€ä¸ªæ™®é€šå­—ç¬¦ä¸²ï¼Œé‚£ä¹ˆå¯¹åº”çš„encodingå¯ä»¥æ˜¯rawæˆ–è€…æ˜¯intï¼Œå¦‚æœæ˜¯intåˆ™ä»£è¡¨å®é™…rediså†…éƒ¨æ˜¯æŒ‰æ•°å€¼å‹ç±»å­˜å‚¨å’Œè¡¨ç¤ºè¿™ä¸ªå­—ç¬¦ä¸²çš„ï¼Œå½“ç„¶å‰ææ˜¯è¿™ä¸ªå­—ç¬¦ä¸²æœ¬èº«å¯ä»¥ç”¨æ•°å€¼è¡¨ç¤ºï¼Œæ¯”å¦‚:"123" "456"è¿™æ ·çš„å­—ç¬¦ä¸²ã€‚')]),e._v(" "),s("p",[e._v("è¿™é‡Œéœ€è¦ç‰¹æ®Šè¯´æ˜ä¸€ä¸‹vmå­—æ®µï¼Œåªæœ‰æ‰“å¼€äº†Redisçš„è™šæ‹Ÿå†…å­˜åŠŸèƒ½ï¼Œæ­¤å­—æ®µæ‰ä¼šçœŸæ­£çš„åˆ†é…å†…å­˜ï¼Œè¯¥åŠŸèƒ½é»˜è®¤æ˜¯å…³é—­çŠ¶æ€çš„ã€‚é€šè¿‡ä¸Šå›¾æˆ‘ä»¬å¯ä»¥å‘ç°Redisä½¿ç”¨redisObjectæ¥è¡¨ç¤ºæ‰€æœ‰çš„key/valueæ•°æ®æ˜¯æ¯”è¾ƒæµªè´¹å†…å­˜çš„ï¼Œå½“ç„¶è¿™äº›å†…å­˜ç®¡ç†æˆæœ¬çš„ä»˜å‡ºä¸»è¦ä¹Ÿæ˜¯ä¸ºäº†ç»™Redisä¸åŒæ•°æ®ç±»å‹æä¾›ä¸€ä¸ªç»Ÿä¸€çš„ç®¡ç†æ¥å£ï¼Œå®é™…ä½œè€…ä¹Ÿæä¾›äº†å¤šç§æ–¹æ³•å¸®åŠ©æˆ‘ä»¬å°½é‡èŠ‚çœå†…å­˜ä½¿ç”¨ï¼Œæˆ‘ä»¬éšåä¼šå…·ä½“è®¨è®ºã€‚")]),e._v(" "),s("p",[e._v("Redisæ”¯æŒ5ç§æ•°æ®ç±»å‹ï¼šstringï¼ˆå­—ç¬¦ä¸²ï¼‰ï¼Œhashï¼ˆå“ˆå¸Œï¼‰ï¼Œlistï¼ˆåˆ—è¡¨ï¼‰ï¼Œsetï¼ˆé›†åˆï¼‰åŠzset(sorted setï¼šæœ‰åºé›†åˆ)ã€‚")]),e._v(" "),e._m(7),e._v(" "),s("p",[e._v("å¸¸ç”¨å‘½ä»¤ï¼šgetã€setã€incrã€decrã€mgetç­‰ã€‚")]),e._v(" "),s("p",[e._v("åº”ç”¨åœºæ™¯ï¼šStringæ˜¯æœ€å¸¸ç”¨çš„ä¸€ç§æ•°æ®ç±»å‹ï¼Œæ™®é€šçš„key/ value å­˜å‚¨éƒ½å¯ä»¥å½’ä¸ºæ­¤ç±»ï¼Œå³å¯ä»¥å®Œå…¨å®ç°ç›®å‰ Memcached çš„åŠŸèƒ½ï¼Œå¹¶ä¸”æ•ˆç‡æ›´é«˜ã€‚è¿˜å¯ä»¥äº«å—Redisçš„å®šæ—¶æŒä¹…åŒ–ï¼Œæ“ä½œæ—¥å¿—åŠ Replicationç­‰åŠŸèƒ½ã€‚é™¤äº†æä¾›ä¸ Memcached ä¸€æ ·çš„getã€setã€incrã€decr ç­‰æ“ä½œå¤–ï¼ŒRedisè¿˜æä¾›äº†ä¸‹é¢ä¸€äº›æ“ä½œï¼š")]),e._v(" "),e._m(8),e._v(" "),s("p",[e._v("ä½¿ç”¨åœºæ™¯ï¼šå¸¸è§„key-valueç¼“å­˜åº”ç”¨ã€‚å¸¸è§„è®¡æ•°: å¾®åšæ•°, ç²‰ä¸æ•°ã€‚")]),e._v(" "),s("p",[e._v("å®ç°æ–¹å¼ï¼šStringåœ¨rediså†…éƒ¨å­˜å‚¨é»˜è®¤å°±æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œè¢«redisObjectæ‰€å¼•ç”¨ï¼Œå½“é‡åˆ°incr,decrç­‰æ“ä½œæ—¶ä¼šè½¬æˆæ•°å€¼å‹è¿›è¡Œè®¡ç®—ï¼Œæ­¤æ—¶redisObjectçš„encodingå­—æ®µä¸ºintã€‚")]),e._v(" "),e._m(9),e._m(10),e._v(" "),s("p",[e._v("**æ³¨æ„ï¼š**ä¸€ä¸ªé”®æœ€å¤§èƒ½å­˜å‚¨512MBã€‚")]),e._v(" "),e._m(11),e._v(" "),s("p",[e._v("å¸¸ç”¨å‘½ä»¤ï¼šhget,hset,hgetall ç­‰ã€‚")]),e._v(" "),s("p",[e._v("åº”ç”¨åœºæ™¯ï¼šæˆ‘ä»¬ç®€å•ä¸¾ä¸ªå®ä¾‹æ¥æè¿°ä¸‹Hashçš„åº”ç”¨åœºæ™¯ï¼Œæ¯”å¦‚æˆ‘ä»¬è¦å­˜å‚¨ä¸€ä¸ªç”¨æˆ·ä¿¡æ¯å¯¹è±¡æ•°æ®ï¼ŒåŒ…å«ä»¥ä¸‹ä¿¡æ¯ï¼š")]),e._v(" "),s("p",[e._v("ç”¨æˆ·IDä¸ºæŸ¥æ‰¾çš„keyï¼Œå­˜å‚¨çš„valueç”¨æˆ·å¯¹è±¡åŒ…å«å§“åï¼Œå¹´é¾„ï¼Œç”Ÿæ—¥ç­‰ä¿¡æ¯ï¼Œå¦‚æœç”¨æ™®é€šçš„key/valueç»“æ„æ¥å­˜å‚¨ï¼Œä¸»è¦æœ‰ä»¥ä¸‹2ç§å­˜å‚¨æ–¹å¼ï¼š")]),e._v(" "),e._m(12),e._v(" "),s("p",[e._v("ç¬¬ä¸€ç§æ–¹å¼å°†ç”¨æˆ·IDä½œä¸ºæŸ¥æ‰¾key,æŠŠå…¶ä»–ä¿¡æ¯å°è£…æˆä¸€ä¸ªå¯¹è±¡ä»¥åºåˆ—åŒ–çš„æ–¹å¼å­˜å‚¨ï¼Œè¿™ç§æ–¹å¼çš„ç¼ºç‚¹æ˜¯ï¼Œå¢åŠ äº†åºåˆ—åŒ–/ååºåˆ—åŒ–çš„å¼€é”€ï¼Œå¹¶ä¸”åœ¨éœ€è¦ä¿®æ”¹å…¶ä¸­ä¸€é¡¹ä¿¡æ¯æ—¶ï¼Œéœ€è¦æŠŠæ•´ä¸ªå¯¹è±¡å–å›ï¼Œå¹¶ä¸”ä¿®æ”¹æ“ä½œéœ€è¦å¯¹å¹¶å‘è¿›è¡Œä¿æŠ¤ï¼Œå¼•å…¥CASç­‰å¤æ‚é—®é¢˜ã€‚")]),e._v(" "),e._m(13),e._v(" "),s("p",[e._v("ç¬¬äºŒç§æ–¹æ³•æ˜¯è¿™ä¸ªç”¨æˆ·ä¿¡æ¯å¯¹è±¡æœ‰å¤šå°‘æˆå‘˜å°±å­˜æˆå¤šå°‘ä¸ªkey-valueå¯¹å„¿ï¼Œç”¨ç”¨æˆ·ID+å¯¹åº”å±æ€§çš„åç§°ä½œä¸ºå”¯ä¸€æ ‡è¯†æ¥å–å¾—å¯¹åº”å±æ€§çš„å€¼ï¼Œè™½ç„¶çœå»äº†åºåˆ—åŒ–å¼€é”€å’Œå¹¶å‘é—®é¢˜ï¼Œä½†æ˜¯ç”¨æˆ·IDä¸ºé‡å¤å­˜å‚¨ï¼Œå¦‚æœå­˜åœ¨å¤§é‡è¿™æ ·çš„æ•°æ®ï¼Œå†…å­˜æµªè´¹è¿˜æ˜¯éå¸¸å¯è§‚çš„ã€‚")]),e._v(" "),s("p",[e._v("é‚£ä¹ˆRedisæä¾›çš„Hashå¾ˆå¥½çš„è§£å†³äº†è¿™ä¸ªé—®é¢˜ï¼ŒRedisçš„Hashå®é™…æ˜¯å†…éƒ¨å­˜å‚¨çš„Valueä¸ºä¸€ä¸ªHashMapï¼Œå¹¶æä¾›äº†ç›´æ¥å­˜å–è¿™ä¸ªMapæˆå‘˜çš„æ¥å£ï¼Œå¦‚ä¸‹å›¾ï¼š")]),e._v(" "),e._m(14),e._v(" "),s("p",[e._v("ä¹Ÿå°±æ˜¯è¯´ï¼ŒKeyä»ç„¶æ˜¯ç”¨æˆ·ID, valueæ˜¯ä¸€ä¸ªMapï¼Œè¿™ä¸ªMapçš„keyæ˜¯æˆå‘˜çš„å±æ€§åï¼Œvalueæ˜¯å±æ€§å€¼ï¼Œè¿™æ ·å¯¹æ•°æ®çš„ä¿®æ”¹å’Œå­˜å–éƒ½å¯ä»¥ç›´æ¥é€šè¿‡å…¶å†…éƒ¨Mapçš„Key(Redisé‡Œç§°å†…éƒ¨Mapçš„keyä¸ºfield), ä¹Ÿå°±æ˜¯é€šè¿‡ key(ç”¨æˆ·ID) + field(å±æ€§æ ‡ç­¾) å°±å¯ä»¥æ“ä½œå¯¹åº”å±æ€§æ•°æ®äº†ï¼Œæ—¢ä¸éœ€è¦é‡å¤å­˜å‚¨æ•°æ®ï¼Œä¹Ÿä¸ä¼šå¸¦æ¥åºåˆ—åŒ–å’Œå¹¶å‘ä¿®æ”¹æ§åˆ¶çš„é—®é¢˜ï¼Œå¾ˆå¥½çš„è§£å†³äº†é—®é¢˜ã€‚")]),e._v(" "),s("p",[e._v("è¿™é‡ŒåŒæ—¶éœ€è¦æ³¨æ„ï¼ŒRedisæä¾›äº†æ¥å£(hgetall)å¯ä»¥ç›´æ¥å–åˆ°å…¨éƒ¨çš„å±æ€§æ•°æ®ï¼Œä½†æ˜¯å¦‚æœå†…éƒ¨Mapçš„æˆå‘˜å¾ˆå¤šï¼Œé‚£ä¹ˆæ¶‰åŠåˆ°éå†æ•´ä¸ªå†…éƒ¨Mapçš„æ“ä½œï¼Œç”±äºRediså•çº¿ç¨‹æ¨¡å‹çš„ç¼˜æ•…ï¼Œè¿™ä¸ªéå†æ“ä½œå¯èƒ½ä¼šæ¯”è¾ƒè€—æ—¶ï¼Œè€Œå¦å…¶å®ƒå®¢æˆ·ç«¯çš„è¯·æ±‚å®Œå…¨ä¸å“åº”ï¼Œè¿™ç‚¹éœ€è¦æ ¼å¤–æ³¨æ„ã€‚")]),e._v(" "),s("p",[e._v("ä½¿ç”¨åœºæ™¯ï¼šå­˜å‚¨éƒ¨åˆ†å˜æ›´æ•°æ®ï¼Œå¦‚ç”¨æˆ·ä¿¡æ¯ç­‰ã€‚")]),e._v(" "),s("p",[e._v("å®ç°æ–¹å¼ï¼šä¸Šé¢å·²ç»è¯´åˆ°Redis Hashå¯¹åº”Valueå†…éƒ¨å®é™…å°±æ˜¯ä¸€ä¸ªHashMapï¼Œå®é™…è¿™é‡Œä¼šæœ‰2ç§ä¸åŒå®ç°ï¼Œè¿™ä¸ªHashçš„æˆå‘˜æ¯”è¾ƒå°‘æ—¶Redisä¸ºäº†èŠ‚çœå†…å­˜ä¼šé‡‡ç”¨ç±»ä¼¼ä¸€ç»´æ•°ç»„çš„æ–¹å¼æ¥ç´§å‡‘å­˜å‚¨ï¼Œè€Œä¸ä¼šé‡‡ç”¨çœŸæ­£çš„HashMapç»“æ„ï¼Œå¯¹åº”çš„value redisObjectçš„encodingä¸ºzipmapï¼Œå½“æˆå‘˜æ•°é‡å¢å¤§æ—¶ä¼šè‡ªåŠ¨è½¬æˆçœŸæ­£çš„HashMapï¼Œæ­¤æ—¶encodingä¸ºhtã€‚")]),e._v(" "),e._m(15),e._m(16),e._v(" "),e._m(17),e._v(" "),s("p",[e._v("å¸¸ç”¨å‘½ä»¤ï¼šlpushï¼ˆæ·»åŠ å·¦è¾¹å…ƒç´ ï¼‰,rpush,lpopï¼ˆç§»é™¤å·¦è¾¹ç¬¬ä¸€ä¸ªå…ƒç´ ï¼‰,rpop,lrangeï¼ˆè·å–åˆ—è¡¨ç‰‡æ®µï¼ŒLRANGE key start stopï¼‰ç­‰ã€‚")]),e._v(" "),s("p",[e._v("åº”ç”¨åœºæ™¯ï¼šRedis listçš„åº”ç”¨åœºæ™¯éå¸¸å¤šï¼Œä¹Ÿæ˜¯Redisæœ€é‡è¦çš„æ•°æ®ç»“æ„ä¹‹ä¸€ï¼Œæ¯”å¦‚twitterçš„å…³æ³¨åˆ—è¡¨ï¼Œç²‰ä¸åˆ—è¡¨ç­‰éƒ½å¯ä»¥ç”¨Redisçš„listç»“æ„æ¥å®ç°ã€‚")]),e._v(" "),s("p",[e._v("List å°±æ˜¯é“¾è¡¨ï¼Œç›¸ä¿¡ç•¥æœ‰æ•°æ®ç»“æ„çŸ¥è¯†çš„äººéƒ½åº”è¯¥èƒ½ç†è§£å…¶ç»“æ„ã€‚ä½¿ç”¨Listç»“æ„ï¼Œæˆ‘ä»¬å¯ä»¥è½»æ¾åœ°å®ç°æœ€æ–°æ¶ˆæ¯æ’è¡Œç­‰åŠŸèƒ½ã€‚Listçš„å¦ä¸€ä¸ªåº”ç”¨å°±æ˜¯æ¶ˆæ¯é˜Ÿåˆ—ï¼Œ\nå¯ä»¥åˆ©ç”¨Listçš„PUSHæ“ä½œï¼Œå°†ä»»åŠ¡å­˜åœ¨Listä¸­ï¼Œç„¶åå·¥ä½œçº¿ç¨‹å†ç”¨POPæ“ä½œå°†ä»»åŠ¡å–å‡ºè¿›è¡Œæ‰§è¡Œã€‚Redisè¿˜æä¾›äº†æ“ä½œListä¸­æŸä¸€æ®µçš„apiï¼Œä½ å¯ä»¥ç›´æ¥æŸ¥è¯¢ï¼Œåˆ é™¤Listä¸­æŸä¸€æ®µçš„å…ƒç´ ã€‚")]),e._v(" "),s("p",[e._v("å®ç°æ–¹å¼ï¼šRedis listçš„å®ç°ä¸ºä¸€ä¸ªåŒå‘é“¾è¡¨ï¼Œå³å¯ä»¥æ”¯æŒåå‘æŸ¥æ‰¾å’Œéå†ï¼Œæ›´æ–¹ä¾¿æ“ä½œï¼Œä¸è¿‡å¸¦æ¥äº†éƒ¨åˆ†é¢å¤–çš„å†…å­˜å¼€é”€ï¼ŒRediså†…éƒ¨çš„å¾ˆå¤šå®ç°ï¼ŒåŒ…æ‹¬å‘é€ç¼“å†²é˜Ÿåˆ—ç­‰ä¹Ÿéƒ½æ˜¯ç”¨çš„è¿™ä¸ªæ•°æ®ç»“æ„ã€‚")]),e._v(" "),s("p",[e._v("Redisçš„listæ˜¯æ¯ä¸ªå­å…ƒç´ éƒ½æ˜¯Stringç±»å‹çš„åŒå‘é“¾è¡¨ï¼Œå¯ä»¥é€šè¿‡pushå’Œpopæ“ä½œä»åˆ—è¡¨çš„å¤´éƒ¨æˆ–è€…å°¾éƒ¨æ·»åŠ æˆ–è€…åˆ é™¤å…ƒç´ ï¼Œè¿™æ ·Listå³å¯ä»¥ä½œä¸ºæ ˆï¼Œä¹Ÿå¯ä»¥ä½œä¸ºé˜Ÿåˆ—ã€‚ è·å–è¶Šæ¥è¿‘ä¸¤ç«¯çš„å…ƒç´ é€Ÿåº¦è¶Šå¿«ï¼Œä½†é€šè¿‡ç´¢å¼•è®¿é—®æ—¶ä¼šæ¯”è¾ƒæ…¢ã€‚")]),e._v(" "),s("p",[e._v("ä½¿ç”¨åœºæ™¯ï¼š")]),e._v(" "),s("p",[e._v("æ¶ˆæ¯é˜Ÿåˆ—ç³»ç»Ÿï¼šä½¿ç”¨listå¯ä»¥æ„å»ºé˜Ÿåˆ—ç³»ç»Ÿï¼Œä½¿ç”¨sorted setç”šè‡³å¯ä»¥æ„å»ºæœ‰ä¼˜å…ˆçº§çš„é˜Ÿåˆ—ç³»ç»Ÿã€‚æ¯”å¦‚ï¼šå°†Redisç”¨ä½œæ—¥å¿—æ”¶é›†å™¨ï¼Œå®é™…ä¸Šè¿˜æ˜¯ä¸€ä¸ªé˜Ÿåˆ—ï¼Œå¤šä¸ªç«¯ç‚¹å°†æ—¥å¿—ä¿¡æ¯å†™å…¥Redisï¼Œç„¶åä¸€ä¸ªworkerç»Ÿä¸€å°†æ‰€æœ‰æ—¥å¿—å†™åˆ°ç£ç›˜ã€‚")]),e._v(" "),s("p",[e._v("å–æœ€æ–°Nä¸ªæ•°æ®çš„æ“ä½œï¼šè®°å½•å‰Nä¸ªæœ€æ–°ç™»é™†çš„ç”¨æˆ·Idåˆ—è¡¨ï¼Œè¶…å‡ºçš„èŒƒå›´å¯ä»¥ä»æ•°æ®åº“ä¸­è·å¾—ã€‚")]),e._v(" "),e._m(18),s("p",[e._v("æ¯”å¦‚å¾®åšï¼š")]),e._v(" "),s("p",[e._v("åœ¨Redisä¸­æˆ‘ä»¬çš„æœ€æ–°å¾®åšIDä½¿ç”¨äº†å¸¸é©»ç¼“å­˜ï¼Œè¿™æ˜¯ä¸€ç›´æ›´æ–°çš„ã€‚ä½†æ˜¯æˆ‘ä»¬åšäº†é™åˆ¶ä¸èƒ½è¶…è¿‡5000ä¸ªIDï¼Œå› æ­¤æˆ‘ä»¬çš„è·å–IDå‡½æ•°ä¼šä¸€ç›´è¯¢é—®Redisã€‚åªæœ‰åœ¨start/countå‚æ•°è¶…å‡ºäº†è¿™ä¸ªèŒƒå›´çš„æ—¶å€™ï¼Œæ‰éœ€è¦å»è®¿é—®æ•°æ®åº“ã€‚æˆ‘ä»¬çš„ç³»ç»Ÿä¸ä¼šåƒä¼ ç»Ÿæ–¹å¼é‚£æ ·â€œåˆ·æ–°â€ç¼“å­˜ï¼ŒRediså®ä¾‹ä¸­çš„ä¿¡æ¯æ°¸è¿œæ˜¯ä¸€è‡´çš„ã€‚SQLæ•°æ®åº“ï¼ˆæˆ–æ˜¯ç¡¬ç›˜ä¸Šçš„å…¶ä»–ç±»å‹æ•°æ®åº“ï¼‰åªæ˜¯åœ¨ç”¨æˆ·éœ€è¦è·å–â€œå¾ˆè¿œâ€çš„æ•°æ®æ—¶æ‰ä¼šè¢«è§¦å‘ï¼Œè€Œä¸»é¡µæˆ–ç¬¬ä¸€ä¸ªè¯„è®ºé¡µæ˜¯ä¸ä¼šéº»çƒ¦åˆ°ç¡¬ç›˜ä¸Šçš„æ•°æ®åº“äº†ã€‚")]),e._v(" "),e._m(19),e._v(" "),e._m(20),e._m(21),e._v(" "),s("p",[e._v("åˆ—è¡¨æœ€å¤šå¯å­˜å‚¨ 232 - 1 å…ƒç´  (4294967295, æ¯ä¸ªåˆ—è¡¨å¯å­˜å‚¨40å¤šäº¿)ã€‚")]),e._v(" "),e._m(22),e._v(" "),s("p",[e._v("*sadd å‘½ä»¤ï¼š*æ·»åŠ ä¸€ä¸ª string å…ƒç´ åˆ° key å¯¹åº”çš„ set é›†åˆä¸­ï¼ŒæˆåŠŸè¿”å›1ï¼Œå¦‚æœå…ƒç´ å·²ç»åœ¨é›†åˆä¸­è¿”å› 0ï¼Œå¦‚æœ key å¯¹åº”çš„ set ä¸å­˜åœ¨åˆ™è¿”å›é”™è¯¯ã€‚")]),e._v(" "),s("p",[e._v("å¸¸ç”¨å‘½ä»¤ï¼šsadd,spop,smembers,sunion ç­‰ã€‚")]),e._v(" "),s("p",[e._v("åº”ç”¨åœºæ™¯ï¼šRedis setå¯¹å¤–æä¾›çš„åŠŸèƒ½ä¸listç±»ä¼¼æ˜¯ä¸€ä¸ªåˆ—è¡¨çš„åŠŸèƒ½ï¼Œç‰¹æ®Šä¹‹å¤„åœ¨äºsetæ˜¯å¯ä»¥è‡ªåŠ¨æ’é‡çš„ï¼Œå½“ä½ éœ€è¦å­˜å‚¨ä¸€ä¸ªåˆ—è¡¨æ•°æ®ï¼Œåˆä¸å¸Œæœ›å‡ºç°é‡å¤æ•°æ®æ—¶ï¼Œsetæ˜¯ä¸€ä¸ªå¾ˆå¥½çš„é€‰æ‹©ï¼Œå¹¶ä¸”setæä¾›äº†åˆ¤æ–­æŸä¸ªæˆå‘˜æ˜¯å¦åœ¨ä¸€ä¸ªseté›†åˆå†…çš„é‡è¦æ¥å£ï¼Œè¿™ä¸ªä¹Ÿæ˜¯listæ‰€ä¸èƒ½æä¾›çš„ã€‚")]),e._v(" "),s("p",[e._v("Set å°±æ˜¯ä¸€ä¸ªé›†åˆï¼Œé›†åˆçš„æ¦‚å¿µå°±æ˜¯ä¸€å †ä¸é‡å¤å€¼çš„ç»„åˆã€‚åˆ©ç”¨Redisæä¾›çš„Setæ•°æ®ç»“æ„ï¼Œå¯ä»¥å­˜å‚¨ä¸€äº›é›†åˆæ€§çš„æ•°æ®ã€‚")]),e._v(" "),s("p",[e._v("æ¡ˆä¾‹ï¼šåœ¨å¾®åšä¸­ï¼Œå¯ä»¥å°†ä¸€ä¸ªç”¨æˆ·æ‰€æœ‰çš„å…³æ³¨äººå­˜åœ¨ä¸€ä¸ªé›†åˆä¸­ï¼Œå°†å…¶æ‰€æœ‰ç²‰ä¸å­˜åœ¨ä¸€ä¸ªé›†åˆã€‚Redisè¿˜ä¸ºé›†åˆæä¾›äº†æ±‚äº¤é›†ã€å¹¶é›†ã€å·®é›†ç­‰æ“ä½œï¼Œå¯ä»¥éå¸¸æ–¹ä¾¿çš„å®ç°å¦‚å…±åŒå…³æ³¨ã€å…±åŒå–œå¥½ã€äºŒåº¦å¥½å‹ç­‰åŠŸèƒ½ï¼Œå¯¹ä¸Šé¢çš„æ‰€æœ‰é›†åˆæ“ä½œï¼Œä½ è¿˜å¯ä»¥ä½¿ç”¨ä¸åŒçš„å‘½ä»¤é€‰æ‹©å°†ç»“æœè¿”å›ç»™å®¢æˆ·ç«¯è¿˜æ˜¯å­˜é›†åˆ°ä¸€ä¸ªæ–°çš„é›†åˆä¸­ã€‚")]),e._v(" "),s("p",[e._v("å®ç°æ–¹å¼ï¼š set çš„å†…éƒ¨å®ç°æ˜¯ä¸€ä¸ª valueæ°¸è¿œä¸ºnullçš„HashMapï¼Œå®é™…å°±æ˜¯é€šè¿‡è®¡ç®—hashçš„æ–¹å¼æ¥å¿«é€Ÿæ’é‡çš„ï¼Œè¿™ä¹Ÿæ˜¯setèƒ½æä¾›åˆ¤æ–­ä¸€ä¸ªæˆå‘˜æ˜¯å¦åœ¨é›†åˆå†…çš„åŸå› ã€‚")]),e._v(" "),s("p",[e._v("ä½¿ç”¨åœºæ™¯ï¼š")]),e._v(" "),s("p",[e._v("â‘ äº¤é›†ï¼Œå¹¶é›†ï¼Œå·®é›†ï¼š(Set)")]),e._v(" "),e._m(23),e._v(" "),e._m(24),e._m(25),e._v(" "),s("p",[e._v("â‘¡è·å–æŸæ®µæ—¶é—´æ‰€æœ‰æ•°æ®å»é‡å€¼")]),e._v(" "),s("p",[e._v("è¿™ä¸ªä½¿ç”¨Redisçš„setæ•°æ®ç»“æ„æœ€åˆé€‚äº†ï¼Œåªéœ€è¦ä¸æ–­åœ°å°†æ•°æ®å¾€setä¸­æ‰”å°±è¡Œäº†ï¼Œsetæ„ä¸ºé›†åˆï¼Œæ‰€ä»¥ä¼šè‡ªåŠ¨æ’é‡ã€‚")]),e._v(" "),e._m(26),e._m(27),e._v(" "),e._m(28),e._m(29),e._v(" "),s("p",[e._v("**æ³¨æ„ï¼š**ä»¥ä¸Šå®ä¾‹ä¸­ rabitmq æ·»åŠ äº†ä¸¤æ¬¡ï¼Œä½†æ ¹æ®é›†åˆå†…å…ƒç´ çš„å”¯ä¸€æ€§ï¼Œç¬¬äºŒæ¬¡æ’å…¥çš„å…ƒç´ å°†è¢«å¿½ç•¥ã€‚é›†åˆä¸­æœ€å¤§çš„æˆå‘˜æ•°ä¸º 232 - 1(4294967295, æ¯ä¸ªé›†åˆå¯å­˜å‚¨40å¤šäº¿ä¸ªæˆå‘˜)ã€‚")]),e._v(" "),e._m(30),e._v(" "),s("p",[e._v("*zadd å‘½ä»¤ï¼š*æ·»åŠ å…ƒç´ åˆ°é›†åˆï¼Œå…ƒç´ åœ¨é›†åˆä¸­å­˜åœ¨åˆ™æ›´æ–°å¯¹åº”scoreã€‚")]),e._v(" "),s("p",[e._v("å¸¸ç”¨å‘½ä»¤ï¼šzadd,zrange,zrem,zcardç­‰")]),e._v(" "),e._m(31),e._v(" "),s("p",[e._v("å®ç°æ–¹å¼ï¼šRedis sorted setçš„å†…éƒ¨ä½¿ç”¨HashMapå’Œè·³è·ƒè¡¨(SkipList)æ¥ä¿è¯æ•°æ®çš„å­˜å‚¨å’Œæœ‰åºï¼ŒHashMapé‡Œæ”¾çš„æ˜¯æˆå‘˜åˆ°scoreçš„æ˜ å°„ï¼Œè€Œè·³è·ƒè¡¨é‡Œå­˜æ”¾çš„æ˜¯æ‰€æœ‰çš„æˆå‘˜ï¼Œæ’åºä¾æ®æ˜¯HashMapé‡Œå­˜çš„score,ä½¿ç”¨è·³è·ƒè¡¨çš„ç»“æ„å¯ä»¥è·å¾—æ¯”è¾ƒé«˜çš„æŸ¥æ‰¾æ•ˆç‡ï¼Œå¹¶ä¸”åœ¨å®ç°ä¸Šæ¯”è¾ƒç®€å•ã€‚")]),e._v(" "),e._m(32),e._m(33),e._v(" "),e._m(34),e._m(35),e._v(" "),s("p",[e._v("å„ä¸ªæ•°æ®ç±»å‹åº”ç”¨åœºæ™¯ï¼š")]),e._v(" "),e._m(36),e._v(" "),e._m(37),e._v(" "),e._m(38),e._v(" "),s("p",[e._v("Redisåœ¨å¾ˆå¤šæ–¹é¢ä¸å…¶ä»–æ•°æ®åº“è§£å†³æ–¹æ¡ˆä¸åŒï¼šå®ƒä½¿ç”¨å†…å­˜æä¾›ä¸»å­˜å‚¨æ”¯æŒï¼Œè€Œä»…ä½¿ç”¨ç¡¬ç›˜åšæŒä¹…æ€§çš„å­˜å‚¨ï¼›å®ƒçš„æ•°æ®æ¨¡å‹éå¸¸ç‹¬ç‰¹ï¼Œç”¨çš„æ˜¯å•çº¿ç¨‹ã€‚å¦ä¸€ä¸ªå¤§åŒºåˆ«åœ¨äºï¼Œä½ å¯ä»¥åœ¨å¼€å‘ç¯å¢ƒä¸­ä½¿ç”¨Redisçš„åŠŸèƒ½ï¼Œä½†å´ä¸éœ€è¦è½¬åˆ°Redisã€‚")]),e._v(" "),s("p",[e._v("è½¬å‘Rediså½“ç„¶ä¹Ÿæ˜¯å¯å–çš„ï¼Œè®¸å¤šå¼€å‘è€…ä»ä¸€å¼€å§‹å°±æŠŠRedisä½œä¸ºé¦–é€‰æ•°æ®åº“ï¼›ä½†è®¾æƒ³å¦‚æœä½ çš„å¼€å‘ç¯å¢ƒå·²ç»æ­å»ºå¥½ï¼Œåº”ç”¨å·²ç»åœ¨ä¸Šé¢è¿è¡Œäº†ï¼Œé‚£ä¹ˆæ›´æ¢æ•°æ®åº“æ¡†æ¶æ˜¾ç„¶ä¸é‚£ä¹ˆå®¹æ˜“ã€‚å¦å¤–åœ¨ä¸€äº›éœ€è¦å¤§å®¹é‡æ•°æ®é›†çš„åº”ç”¨ï¼ŒRedisä¹Ÿå¹¶ä¸é€‚åˆï¼Œå› ä¸ºå®ƒçš„æ•°æ®é›†ä¸ä¼šè¶…è¿‡ç³»ç»Ÿå¯ç”¨çš„å†…å­˜ã€‚æ‰€ä»¥å¦‚æœä½ æœ‰å¤§æ•°æ®åº”ç”¨ï¼Œè€Œä¸”ä¸»è¦æ˜¯è¯»å–è®¿é—®æ¨¡å¼ï¼Œé‚£ä¹ˆRediså¹¶ä¸æ˜¯æ­£ç¡®çš„é€‰æ‹©ã€‚")]),e._v(" "),s("p",[e._v("ç„¶è€Œæˆ‘å–œæ¬¢Redisçš„ä¸€ç‚¹å°±æ˜¯ä½ å¯ä»¥æŠŠå®ƒèå…¥åˆ°ä½ çš„ç³»ç»Ÿä¸­æ¥ï¼Œè¿™å°±èƒ½å¤Ÿè§£å†³å¾ˆå¤šé—®é¢˜ï¼Œæ¯”å¦‚é‚£äº›ä½ ç°æœ‰çš„æ•°æ®åº“å¤„ç†èµ·æ¥æ„Ÿåˆ°ç¼“æ…¢çš„ä»»åŠ¡ã€‚è¿™äº›ä½ å°±å¯ä»¥é€šè¿‡Redisæ¥è¿›è¡Œä¼˜åŒ–ï¼Œæˆ–è€…ä¸ºåº”ç”¨åˆ›å»ºäº›æ–°çš„åŠŸèƒ½ã€‚åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘å°±æƒ³æ¢è®¨ä¸€äº›æ€æ ·å°†RedisåŠ å…¥åˆ°ç°æœ‰çš„ç¯å¢ƒä¸­ï¼Œå¹¶åˆ©ç”¨å®ƒçš„åŸè¯­å‘½ä»¤ç­‰åŠŸèƒ½æ¥è§£å†³ ä¼ ç»Ÿç¯å¢ƒä¸­ç¢°åˆ°çš„ä¸€äº›å¸¸è§é—®é¢˜ã€‚åœ¨è¿™äº›ä¾‹å­ä¸­ï¼ŒRediséƒ½ä¸æ˜¯ä½œä¸ºé¦–é€‰æ•°æ®åº“ã€‚")]),e._v(" "),e._m(39),e._v(" "),s("p",[e._v("ä¸‹é¢è¿™ä¸ªè¯­å¥å¸¸ç”¨æ¥æ˜¾ç¤ºæœ€æ–°é¡¹ç›®ï¼Œéšç€æ•°æ®å¤šäº†ï¼ŒæŸ¥è¯¢æ¯«æ— ç–‘é—®ä¼šè¶Šæ¥è¶Šæ…¢ã€‚")]),e._v(" "),e._m(40),s("p",[e._v("åœ¨Webåº”ç”¨ä¸­ï¼Œâ€œåˆ—å‡ºæœ€æ–°çš„å›å¤â€ä¹‹ç±»çš„æŸ¥è¯¢éå¸¸æ™®éï¼Œè¿™é€šå¸¸ä¼šå¸¦æ¥å¯æ‰©å±•æ€§é—®é¢˜ã€‚è¿™ä»¤äººæ²®ä¸§ï¼Œå› ä¸ºé¡¹ç›®æœ¬æ¥å°±æ˜¯æŒ‰è¿™ä¸ªé¡ºåºè¢«åˆ›å»ºçš„ï¼Œä½†è¦è¾“å‡ºè¿™ä¸ªé¡ºåºå´ä¸å¾—ä¸è¿›è¡Œæ’åºæ“ä½œã€‚")]),e._v(" "),s("p",[e._v("ç±»ä¼¼çš„é—®é¢˜å°±å¯ä»¥ç”¨Redisæ¥è§£å†³ã€‚æ¯”å¦‚è¯´ï¼Œæˆ‘ä»¬çš„ä¸€ä¸ªWebåº”ç”¨æƒ³è¦åˆ—å‡ºç”¨æˆ·è´´å‡ºçš„æœ€æ–°20æ¡è¯„è®ºã€‚åœ¨æœ€æ–°çš„è¯„è®ºè¾¹ä¸Šæˆ‘ä»¬æœ‰ä¸€ä¸ªâ€œæ˜¾ç¤ºå…¨éƒ¨â€çš„é“¾æ¥ï¼Œç‚¹å‡»åå°±å¯ä»¥è·å¾—æ›´å¤šçš„è¯„è®ºã€‚")]),e._v(" "),s("p",[e._v("â€‹    æˆ‘ä»¬å‡è®¾æ•°æ®åº“ä¸­çš„æ¯æ¡è¯„è®ºéƒ½æœ‰ä¸€ä¸ªå”¯ä¸€çš„é€’å¢çš„IDå­—æ®µã€‚æˆ‘ä»¬å¯ä»¥ä½¿ç”¨åˆ†é¡µæ¥åˆ¶ä½œä¸»é¡µå’Œè¯„è®ºé¡µï¼Œä½¿ç”¨Redisçš„æ¨¡æ¿ï¼Œæ¯æ¬¡æ–°è¯„è®ºå‘è¡¨æ—¶ï¼Œæˆ‘ä»¬ä¼šå°†å®ƒçš„IDæ·»åŠ åˆ°ä¸€ä¸ªRedisåˆ—è¡¨ï¼š")]),e._v(" "),e._m(41),s("p",[e._v("æˆ‘ä»¬å°†åˆ—è¡¨è£å‰ªä¸ºæŒ‡å®šé•¿åº¦ï¼Œå› æ­¤Redisåªéœ€è¦ä¿å­˜æœ€æ–°çš„5000æ¡è¯„è®ºï¼š")]),e._v(" "),e._m(42),s("p",[e._v("æ¯æ¬¡æˆ‘ä»¬éœ€è¦è·å–æœ€æ–°è¯„è®ºçš„é¡¹ç›®èŒƒå›´æ—¶ï¼Œæˆ‘ä»¬è°ƒç”¨ä¸€ä¸ªå‡½æ•°æ¥å®Œæˆï¼ˆä½¿ç”¨ä¼ªä»£ç ï¼‰ï¼š")]),e._v(" "),e._m(43),e._v(" "),e._m(44),e._m(45),e._v(" "),s("p",[e._v("è¿™é‡Œæˆ‘ä»¬åšçš„å¾ˆç®€å•ã€‚åœ¨Redisä¸­æˆ‘ä»¬çš„æœ€æ–°IDä½¿ç”¨äº†å¸¸é©»ç¼“å­˜ï¼Œè¿™æ˜¯ä¸€ç›´æ›´æ–°çš„ã€‚ä½†æ˜¯æˆ‘ä»¬åšäº†é™åˆ¶ä¸èƒ½è¶…è¿‡5000ä¸ªIDï¼Œå› æ­¤æˆ‘ä»¬çš„è·å–IDå‡½æ•°ä¼šä¸€ç›´è¯¢é—®Redisã€‚åªæœ‰åœ¨start/countå‚æ•°è¶…å‡ºäº†è¿™ä¸ªèŒƒå›´çš„æ—¶å€™ï¼Œæ‰éœ€è¦å»è®¿é—®æ•°æ®åº“ã€‚æˆ‘ä»¬çš„ç³»ç»Ÿä¸ä¼šåƒä¼ ç»Ÿæ–¹å¼é‚£æ ·â€œåˆ·æ–°â€ç¼“å­˜ï¼ŒRediså®ä¾‹ä¸­çš„ä¿¡æ¯æ°¸è¿œæ˜¯ä¸€è‡´çš„ã€‚SQLæ•°æ®åº“ï¼ˆæˆ–æ˜¯ç¡¬ç›˜ä¸Šçš„å…¶ä»–ç±»å‹æ•°æ®åº“ï¼‰åªæ˜¯åœ¨ç”¨æˆ·éœ€è¦è·å–â€œå¾ˆè¿œâ€çš„æ•°æ®æ—¶æ‰ä¼šè¢«è§¦å‘ï¼Œè€Œä¸»é¡µæˆ–ç¬¬ä¸€ä¸ªè¯„è®ºé¡µæ˜¯ä¸ä¼šéº»çƒ¦åˆ°ç¡¬ç›˜ä¸Šçš„æ•°æ®åº“äº†ã€‚")]),e._v(" "),e._m(46),e._v(" "),s("p",[e._v("æˆ‘ä»¬å¯ä»¥ä½¿ç”¨LREMæ¥åˆ é™¤è¯„è®ºã€‚å¦‚æœåˆ é™¤æ“ä½œéå¸¸å°‘ï¼Œå¦ä¸€ä¸ªé€‰æ‹©æ˜¯ç›´æ¥è·³è¿‡è¯„è®ºæ¡ç›®çš„å…¥å£ï¼ŒæŠ¥å‘Šè¯´è¯¥è¯„è®ºå·²ç»ä¸å­˜åœ¨ã€‚")]),e._v(" "),e._m(47),s("p",[e._v("æœ‰äº›æ—¶å€™ä½ æƒ³è¦ç»™ä¸åŒçš„åˆ—è¡¨é™„åŠ ä¸Šä¸åŒçš„è¿‡æ»¤å™¨ã€‚å¦‚æœè¿‡æ»¤å™¨çš„æ•°é‡å—åˆ°é™åˆ¶ï¼Œä½ å¯ä»¥ç®€å•çš„ä¸ºæ¯ä¸ªä¸åŒçš„è¿‡æ»¤å™¨ä½¿ç”¨ä¸åŒçš„Redisåˆ—è¡¨ã€‚æ¯•ç«Ÿæ¯ä¸ªåˆ—è¡¨åªæœ‰5000æ¡é¡¹ç›®ï¼Œä½†Rediså´èƒ½å¤Ÿä½¿ç”¨éå¸¸å°‘çš„å†…å­˜æ¥å¤„ç†å‡ ç™¾ä¸‡æ¡é¡¹ç›®ã€‚")]),e._v(" "),e._m(48),e._v(" "),s("p",[e._v("å¦ä¸€ä¸ªå¾ˆæ™®éçš„éœ€æ±‚æ˜¯å„ç§æ•°æ®åº“çš„æ•°æ®å¹¶éå­˜å‚¨åœ¨å†…å­˜ä¸­ï¼Œå› æ­¤åœ¨æŒ‰å¾—åˆ†æ’åºä»¥åŠå®æ—¶æ›´æ–°è¿™äº›å‡ ä¹æ¯ç§’é’Ÿéƒ½éœ€è¦æ›´æ–°çš„åŠŸèƒ½ä¸Šæ•°æ®åº“çš„æ€§èƒ½ä¸å¤Ÿç†æƒ³ã€‚")]),e._v(" "),s("p",[e._v("å…¸å‹çš„æ¯”å¦‚é‚£äº›åœ¨çº¿æ¸¸æˆçš„æ’è¡Œæ¦œï¼Œæ¯”å¦‚ä¸€ä¸ªFacebookçš„æ¸¸æˆï¼Œæ ¹æ®å¾—åˆ†ä½ é€šå¸¸æƒ³è¦ï¼š")]),e._v(" "),s("p",[e._v("- åˆ—å‡ºå‰100åé«˜åˆ†é€‰æ‰‹")]),e._v(" "),s("p",[e._v("- åˆ—å‡ºæŸç”¨æˆ·å½“å‰çš„å…¨çƒæ’å")]),e._v(" "),s("p",[e._v("è¿™äº›æ“ä½œå¯¹äºRedisæ¥è¯´å°èœä¸€ç¢Ÿï¼Œå³ä½¿ä½ æœ‰å‡ ç™¾ä¸‡ä¸ªç”¨æˆ·ï¼Œæ¯åˆ†é’Ÿéƒ½ä¼šæœ‰å‡ ç™¾ä¸‡ä¸ªæ–°çš„å¾—åˆ†ã€‚")]),e._v(" "),s("p",[e._v("æ¨¡å¼æ˜¯è¿™æ ·çš„ï¼Œæ¯æ¬¡è·å¾—æ–°å¾—åˆ†æ—¶ï¼Œæˆ‘ä»¬ç”¨è¿™æ ·çš„ä»£ç ï¼š")]),e._v(" "),e._m(49),s("p",[e._v("ä½ å¯èƒ½ç”¨userIDæ¥å–ä»£usernameï¼Œè¿™å–å†³äºä½ æ˜¯æ€ä¹ˆè®¾è®¡çš„ã€‚")]),e._v(" "),s("p",[e._v("å¾—åˆ°å‰100åé«˜åˆ†ç”¨æˆ·å¾ˆç®€å•ï¼šZREVRANGE leaderboard 0 99ã€‚")]),e._v(" "),s("p",[e._v("ç”¨æˆ·çš„å…¨çƒæ’åä¹Ÿç›¸ä¼¼ï¼Œåªéœ€è¦ï¼šZRANK leaderboard "),s("username",[e._v("ã€‚")])],1),e._v(" "),e._m(50),e._v(" "),s("p",[e._v("æ’è¡Œæ¦œçš„ä¸€ç§å¸¸è§å˜ä½“æ¨¡å¼å°±åƒRedditæˆ–Hacker Newsç”¨çš„é‚£æ ·ï¼Œæ–°é—»æŒ‰ç…§ç±»ä¼¼ä¸‹é¢çš„å…¬å¼æ ¹æ®å¾—åˆ†æ¥æ’åºï¼š")]),e._v(" "),s("p",[e._v("score = points / time^alpha")]),e._v(" "),s("p",[e._v("å› æ­¤ç”¨æˆ·çš„æŠ•ç¥¨ä¼šç›¸åº”çš„æŠŠæ–°é—»æŒ–å‡ºæ¥ï¼Œä½†æ—¶é—´ä¼šæŒ‰ç…§ä¸€å®šçš„æŒ‡æ•°å°†æ–°é—»åŸ‹ä¸‹å»ã€‚ä¸‹é¢æ˜¯æˆ‘ä»¬çš„æ¨¡å¼ï¼Œå½“ç„¶ç®—æ³•ç”±ä½ å†³å®šã€‚")]),e._v(" "),s("p",[e._v("æ¨¡å¼æ˜¯è¿™æ ·çš„ï¼Œå¼€å§‹æ—¶å…ˆè§‚å¯Ÿé‚£äº›å¯èƒ½æ˜¯æœ€æ–°çš„é¡¹ç›®ï¼Œä¾‹å¦‚é¦–é¡µä¸Šçš„1000æ¡æ–°é—»éƒ½æ˜¯å€™é€‰è€…ï¼Œå› æ­¤æˆ‘ä»¬å…ˆå¿½è§†æ‰å…¶ä»–çš„ï¼Œè¿™å®ç°èµ·æ¥å¾ˆç®€å•ã€‚")]),e._v(" "),s("p",[e._v("æ¯æ¬¡æ–°çš„æ–°é—»è´´ä¸Šæ¥åï¼Œæˆ‘ä»¬å°†IDæ·»åŠ åˆ°åˆ—è¡¨ä¸­ï¼Œä½¿ç”¨LPUSH + LTRIMï¼Œç¡®ä¿åªå–å‡ºæœ€æ–°çš„1000æ¡é¡¹ç›®ã€‚")]),e._v(" "),s("p",[e._v("æœ‰ä¸€é¡¹åå°ä»»åŠ¡è·å–è¿™ä¸ªåˆ—è¡¨ï¼Œå¹¶ä¸”æŒç»­çš„è®¡ç®—è¿™1000æ¡æ–°é—»ä¸­æ¯æ¡æ–°é—»çš„æœ€ç»ˆå¾—åˆ†ã€‚è®¡ç®—ç»“æœç”±ZADDå‘½ä»¤æŒ‰ç…§æ–°çš„é¡ºåºå¡«å……ç”Ÿæˆåˆ—è¡¨ï¼Œè€æ–°é—»åˆ™è¢«æ¸…é™¤ã€‚è¿™é‡Œçš„å…³é”®æ€è·¯æ˜¯æ’åºå·¥ä½œæ˜¯ç”±åå°ä»»åŠ¡æ¥å®Œæˆçš„ã€‚")]),e._v(" "),e._m(51),e._v(" "),s("p",[e._v("å¦ä¸€ç§å¸¸ç”¨çš„é¡¹ç›®æ’åºæ˜¯æŒ‰ç…§æ—¶é—´æ’åºã€‚æˆ‘ä»¬ä½¿ç”¨unixæ—¶é—´ä½œä¸ºå¾—åˆ†å³å¯ã€‚")]),e._v(" "),s("p",[e._v("æ¨¡å¼å¦‚ä¸‹ï¼š")]),e._v(" "),s("p",[e._v("- æ¯æ¬¡æœ‰æ–°é¡¹ç›®æ·»åŠ åˆ°æˆ‘ä»¬çš„éRedisæ•°æ®åº“æ—¶ï¼Œæˆ‘ä»¬æŠŠå®ƒåŠ å…¥åˆ°æ’åºé›†åˆä¸­ã€‚è¿™æ—¶æˆ‘ä»¬ç”¨çš„æ˜¯æ—¶é—´å±æ€§ï¼Œcurrent_timeå’Œtime_to_liveã€‚")]),e._v(" "),s("p",[e._v("- å¦ä¸€é¡¹åå°ä»»åŠ¡ä½¿ç”¨ZRANGEâ€¦SCORESæŸ¥è¯¢æ’åºé›†åˆï¼Œå–å‡ºæœ€æ–°çš„10ä¸ªé¡¹ç›®ã€‚å¦‚æœå‘ç°unixæ—¶é—´å·²ç»è¿‡æœŸï¼Œåˆ™åœ¨æ•°æ®åº“ä¸­åˆ é™¤æ¡ç›®ã€‚")]),e._v(" "),e._m(52),e._v(" "),s("p",[e._v("Redisæ˜¯ä¸€ä¸ªå¾ˆå¥½çš„è®¡æ•°å™¨ï¼Œè¿™è¦æ„Ÿè°¢INCRBYå’Œå…¶ä»–ç›¸ä¼¼å‘½ä»¤ã€‚")]),e._v(" "),s("p",[e._v("æˆ‘ç›¸ä¿¡ä½ æ›¾è®¸å¤šæ¬¡æƒ³è¦ç»™æ•°æ®åº“åŠ ä¸Šæ–°çš„è®¡æ•°å™¨ï¼Œç”¨æ¥è·å–ç»Ÿè®¡æˆ–æ˜¾ç¤ºæ–°ä¿¡æ¯ï¼Œä½†æ˜¯æœ€åå´ç”±äºå†™å…¥æ•æ„Ÿè€Œä¸å¾—ä¸æ”¾å¼ƒå®ƒä»¬ã€‚")]),e._v(" "),s("p",[e._v("å¥½äº†ï¼Œç°åœ¨ä½¿ç”¨Rediså°±ä¸éœ€è¦å†æ‹…å¿ƒäº†ã€‚æœ‰äº†åŸå­é€’å¢ï¼ˆatomic incrementï¼‰ï¼Œä½ å¯ä»¥æ”¾å¿ƒçš„åŠ ä¸Šå„ç§è®¡æ•°ï¼Œç”¨GETSETé‡ç½®ï¼Œæˆ–è€…æ˜¯è®©å®ƒä»¬è¿‡æœŸã€‚")]),e._v(" "),s("p",[e._v("ä¾‹å¦‚è¿™æ ·æ“ä½œï¼š")]),e._v(" "),e._m(53),s("p",[e._v("ä½ å¯ä»¥è®¡ç®—å‡ºæœ€è¿‘ç”¨æˆ·åœ¨é¡µé¢é—´åœé¡¿ä¸è¶…è¿‡60ç§’çš„é¡µé¢æµè§ˆé‡ï¼Œå½“è®¡æ•°è¾¾åˆ°æ¯”å¦‚20æ—¶ï¼Œå°±å¯ä»¥æ˜¾ç¤ºå‡ºæŸäº›æ¡å¹…æç¤ºï¼Œæˆ–æ˜¯å…¶å®ƒä½ æƒ³æ˜¾ç¤ºçš„ä¸œè¥¿ã€‚")]),e._v(" "),e._m(54),e._v(" "),s("p",[e._v("å¦ä¸€é¡¹å¯¹äºå…¶ä»–æ•°æ®åº“å¾ˆéš¾ï¼Œä½†Redisåšèµ·æ¥å´è½»è€Œæ˜“ä¸¾çš„äº‹å°±æ˜¯ç»Ÿè®¡åœ¨æŸæ®µç‰¹ç‚¹æ—¶é—´é‡Œæœ‰å¤šå°‘ç‰¹å®šç”¨æˆ·è®¿é—®äº†æŸä¸ªç‰¹å®šèµ„æºã€‚æ¯”å¦‚æˆ‘æƒ³è¦çŸ¥é“æŸäº›ç‰¹å®šçš„æ³¨å†Œç”¨æˆ·æˆ–IPåœ°å€ï¼Œä»–ä»¬åˆ°åº•æœ‰å¤šå°‘è®¿é—®äº†æŸç¯‡æ–‡ç« ã€‚")]),e._v(" "),s("p",[e._v("æ¯æ¬¡æˆ‘è·å¾—ä¸€æ¬¡æ–°çš„é¡µé¢æµè§ˆæ—¶æˆ‘åªéœ€è¦è¿™æ ·åšï¼š")]),e._v(" "),e._m(55),s("p",[e._v("å½“ç„¶ä½ å¯èƒ½æƒ³ç”¨unixæ—¶é—´æ›¿æ¢day1ï¼Œæ¯”å¦‚time()-(time()%3600*24)ç­‰ç­‰ã€‚")]),e._v(" "),s("p",[e._v("æƒ³çŸ¥é“ç‰¹å®šç”¨æˆ·çš„æ•°é‡å—ï¼Ÿåªéœ€è¦ä½¿ç”¨")]),e._v(" "),e._m(56),s("p",[e._v("éœ€è¦æµ‹è¯•æŸä¸ªç‰¹å®šç”¨æˆ·æ˜¯å¦è®¿é—®äº†è¿™ä¸ªé¡µé¢ï¼Ÿ")]),e._v(" "),e._m(57),e._m(58),e._v(" "),s("p",[e._v("æˆ‘ä»¬åªåšäº†å‡ ä¸ªä¾‹å­ï¼Œä½†å¦‚æœä½ ç ”ç©¶Redisçš„å‘½ä»¤é›†ï¼Œå¹¶ä¸”ç»„åˆä¸€ä¸‹ï¼Œå°±èƒ½è·å¾—å¤§é‡çš„å®æ—¶åˆ†ææ–¹æ³•ï¼Œæœ‰æ•ˆè€Œä¸”éå¸¸çœåŠ›ã€‚ä½¿ç”¨RedisåŸè¯­å‘½ä»¤ï¼Œæ›´å®¹æ˜“å®æ–½åƒåœ¾é‚®ä»¶è¿‡æ»¤ç³»ç»Ÿæˆ–å…¶ä»–å®æ—¶è·Ÿè¸ªç³»ç»Ÿã€‚")]),e._v(" "),e._m(59),e._v(" "),s("p",[e._v("Redisçš„Pub/Subéå¸¸éå¸¸ç®€å•ï¼Œè¿è¡Œç¨³å®šå¹¶ä¸”å¿«é€Ÿã€‚æ”¯æŒæ¨¡å¼åŒ¹é…ï¼Œèƒ½å¤Ÿå®æ—¶è®¢é˜…ä¸å–æ¶ˆé¢‘é“ã€‚")]),e._v(" "),e._m(60),e._v(" "),s("p",[e._v("ä½ åº”è¯¥å·²ç»æ³¨æ„åˆ°åƒlist pushå’Œlist popè¿™æ ·çš„Rediså‘½ä»¤èƒ½å¤Ÿå¾ˆæ–¹ä¾¿çš„æ‰§è¡Œé˜Ÿåˆ—æ“ä½œäº†ï¼Œä½†èƒ½åšçš„å¯ä¸æ­¢è¿™äº›ï¼šæ¯”å¦‚Redisè¿˜æœ‰list popçš„å˜ä½“å‘½ä»¤ï¼Œèƒ½å¤Ÿåœ¨åˆ—è¡¨ä¸ºç©ºæ—¶é˜»å¡é˜Ÿåˆ—ã€‚")]),e._v(" "),s("p",[e._v("ç°ä»£çš„äº’è”ç½‘åº”ç”¨å¤§é‡åœ°ä½¿ç”¨äº†æ¶ˆæ¯é˜Ÿåˆ—ï¼ˆMessagingï¼‰ã€‚æ¶ˆæ¯é˜Ÿåˆ—ä¸ä»…è¢«ç”¨äºç³»ç»Ÿå†…éƒ¨ç»„ä»¶ä¹‹é—´çš„é€šä¿¡ï¼ŒåŒæ—¶ä¹Ÿè¢«ç”¨äºç³»ç»Ÿè·Ÿå…¶å®ƒæœåŠ¡ä¹‹é—´çš„äº¤äº’ã€‚æ¶ˆæ¯é˜Ÿåˆ—çš„ä½¿ç”¨å¯ä»¥å¢åŠ ç³»ç»Ÿçš„å¯æ‰©å±•æ€§ã€çµæ´»æ€§å’Œç”¨æˆ·ä½“éªŒã€‚éåŸºäºæ¶ˆæ¯é˜Ÿåˆ—çš„ç³»ç»Ÿï¼Œå…¶è¿è¡Œé€Ÿåº¦å–å†³äºç³»ç»Ÿä¸­æœ€æ…¢çš„ç»„ä»¶çš„é€Ÿåº¦ï¼ˆæ³¨ï¼šçŸ­æ¿æ•ˆåº”ï¼‰ã€‚è€ŒåŸºäºæ¶ˆæ¯é˜Ÿåˆ—å¯ä»¥å°†ç³»ç»Ÿä¸­å„ç»„ä»¶è§£é™¤è€¦åˆï¼Œè¿™æ ·ç³»ç»Ÿå°±ä¸å†å—æœ€æ…¢ç»„ä»¶çš„æŸç¼šï¼Œå„ç»„ä»¶å¯ä»¥å¼‚æ­¥è¿è¡Œä»è€Œå¾—ä»¥æ›´å¿«çš„é€Ÿåº¦å®Œæˆå„è‡ªçš„å·¥ä½œã€‚")]),e._v(" "),s("p",[e._v("æ­¤å¤–ï¼Œå½“æœåŠ¡å™¨å¤„åœ¨é«˜å¹¶å‘æ“ä½œçš„æ—¶å€™ï¼Œæ¯”å¦‚é¢‘ç¹åœ°å†™å…¥æ—¥å¿—æ–‡ä»¶ã€‚å¯ä»¥åˆ©ç”¨æ¶ˆæ¯é˜Ÿåˆ—å®ç°å¼‚æ­¥å¤„ç†ã€‚ä»è€Œå®ç°é«˜æ€§èƒ½çš„å¹¶å‘æ“ä½œã€‚")]),e._v(" "),e._m(61),e._v(" "),s("p",[e._v("Redisçš„ç¼“å­˜éƒ¨åˆ†å€¼å¾—å†™ä¸€ç¯‡æ–°æ–‡ç« ï¼Œæˆ‘è¿™é‡Œåªæ˜¯ç®€å•çš„è¯´ä¸€ä¸‹ã€‚Redisèƒ½å¤Ÿæ›¿ä»£memcachedï¼Œè®©ä½ çš„ç¼“å­˜ä»åªèƒ½å­˜å‚¨æ•°æ®å˜å¾—èƒ½å¤Ÿæ›´æ–°æ•°æ®ï¼Œå› æ­¤ä½ ä¸å†éœ€è¦æ¯æ¬¡éƒ½é‡æ–°ç”Ÿæˆæ•°æ®äº†ã€‚")])])}),[function(){var e=this.$createElement,t=this._self._c||e;return t("pre",[t("code",[this._v("1.ç®€ä»‹\n\nâ‘  MyBatisæ˜¯ä¸€ä¸ªæŒä¹…å±‚æ¡†æ¶ï¼Œå®Œæˆçš„æ˜¯å¯¹æ•°æ®åº“çš„è®¿é—®å’Œæ“ä½œï¼›ï¼ˆCRUDï¼‰\nâ‘¡ å®ƒè§£å†³äº†JDBCå¯¹æ•°æ®åº“çš„æ“ä½œä¸è®¿é—®è¿‡ç¨‹ä¸­å­˜åœ¨çš„é—®é¢˜ï¼Œæ˜¯å¯¹åŸæœ‰JDBCæŠ€æœ¯çš„å°è£…\nâ‘¢ MyBatisè§£å†³JDBCçš„é—®é¢˜\n\tã€1ã€‘è™½ç„¶JDBCæ“ä½œæ•°æ®åº“çš„æ–¹å¼å¾ˆç›´è§‚ï¼Œä½†å…¶æ ¸å¿ƒå°±æ˜¯å¯¹äºæ•°æ®åº“çš„æ“ä½œã€‚å¤šä¸ªæ–¹æ³•é—´å­˜åœ¨å¤§é‡çš„å†—ä½™\n\tã€2ã€‘åŸºäºJavaä¸­é¢å‘å¯¹è±¡çš„åŸºæœ¬æ€æƒ³ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¼šå°†æŸ¥è¯¢å‡ºæ¥çš„ç»“æœå°è£…æˆä¸€ä¸ªå¯¹è±¡ï¼Œè¿™ä¸€ç³»åˆ—æ“ä½œéƒ½éœ€è¦æ‰‹åŠ¨å®Œæˆï¼›å°†å¯¹è±¡å’Œè¡¨å•åšä¸€ä¸ªæ˜ å°„å…³ç³»ï¼Œå°†ä¸€ä¸ªä¸ªå±æ€§æå–å‡ºæ¥å¹¶èµ‹å€¼ç»™å¯¹è±¡ï¼Œæ‰‹åŠ¨ORMæ˜ å°„ï¼›\n\tã€3ã€‘å¯¹äºå¤šä¸ªç”¨æˆ·çš„ç›¸åŒæŸ¥è¯¢æ“ä½œï¼Œæ²¡æœ‰è¿›è¡Œä¼˜åŒ–ï¼Œè¿™æ ·ä¼šé€ æˆè¿è¡Œæ•ˆç‡åä½ï¼ˆä¸»è¦æŒ‡ç¼“å­˜å±‚Cacheï¼‰\nâ‘£ ä»¥.xmlé…ç½®æ–‡ä»¶çš„æ–¹å¼å®ç°DAOæ¥å£å»é™¤å…¶ä¸­å†—ä½™ä»£ç \n2.MyBatisè¿è¡ŒåŸç†ä¸æµç¨‹å›¾\n\n    â‘  è¿è¡ŒåŸç†\n\n        MyBatisåº”ç”¨ç¨‹åºæ ¹æ®XMLé…ç½®æ–‡ä»¶åˆ›å»ºSqlSessionFactoryï¼ŒSqlSessionFactoryåœ¨æ ¹æ®é…ç½®ï¼Œè·å–ä¸€ä¸ªSqlSessionï¼Œé…ç½®å’Œæ¥æºäºä¸¤ä¸ªåœ°æ–¹ï¼Œä¸€å¤„æ˜¯é…ç½®æ–‡ä»¶ï¼Œä¸€å¤„æ¥æºäºJavaä»£ç çš„æ³¨è§£ã€‚SqlSessionåŒ…å«äº†æ‰§è¡Œsqlæ‰€éœ€è¦çš„æ‰€æœ‰æ–¹æ³•ï¼Œå¯ä»¥é€šè¿‡SqlSessionå®ä¾‹ç›´æ¥è¿è¡Œæ˜ å°„çš„sqlè¯­å¥ï¼Œå®Œæˆå¯¹æ•°æ®çš„CRUDæ“ä½œå’Œäº‹åŠ¡æäº¤ç­‰ï¼Œå®Œæˆåå…³é—­ã€‚\n")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("pre",[t("code",[this._v("3.MyBatisç¼“å­˜\n\nâ‘  åŸç†ï¼š\n\n        å°†é¢‘ç¹æŸ¥è¯¢çš„æ•°æ®å­˜å‚¨åœ¨ç¡¬ç›˜ä¸­ï¼Œä½œä¸ºç¼“å­˜åŒº;å½“å®¢æˆ·ç«¯å‘é€è¯·æ±‚æ—¶ï¼Œç¼“å­˜åŒºæ²¡æœ‰ç›¸åº”çš„ç»“æœï¼Œé‚£ä¹ˆå°±è¿›å…¥æ•°æ®åº“æŸ¥è¯¢ç»“æœï¼Œå…ˆåœ¨ç¼“å­˜åŒºä¸­å­˜å‚¨åœ¨è¿”å›ç»™å®¢æˆ·ç«¯ï¼Œå¦‚æœç¼“å­˜åŒºä¸­æœ‰ï¼Œé‚£ä¹ˆå°±ç›´æ¥è¿”å›ç»™å®¢æˆ·ç«¯.\n\nç›®çš„ï¼šè¾ƒå°‘ä¸æ•°æ®åº“çš„é€šä¿¡æ¬¡æ•°ï¼Œæé«˜ç¨‹åºçš„æŸ¥è¯¢æ•ˆç‡\nç¼ºç‚¹ï¼šæˆæœ¬é«˜  ä¸å®‰å…¨  ç¼“å­˜åœ¨å®è·µå¼ ä¸€ä¸åªå­˜å‚¨é‚£äº›é¢‘ç¹æŸ¥è¯¢çš„æ•°æ®   ä»¥ç¡¬ç›˜çš„ç©ºé—´æ¢å–ç¨‹åºè¿è¡Œçš„æ—¶é—´\n\n    â‘¡ æ³¨æ„äº‹é¡¹ï¼š\n    ã€1ã€‘ åªæœ‰å½“SqlSessionå…³é—­æ—¶ï¼Œæ•°æ®æ‰ä¼šå­˜å…¥ç¼“å­˜åŒº\n    ã€2ã€‘ è„æ•°æ®é—®é¢˜ï¼šå½“ç¼“å­˜åŒºä¸­æ•°æ®ä¸æ•°æ®åº“ä¸­æ•°æ®ä¸ä¸€è‡´æ—¶ï¼Œæˆ‘ä»¬æˆç¼“å­˜ä¸­çš„è¿™ä¸€éƒ¨åˆ†ä¸ºè„æ•°æ®\n    ã€3ã€‘ MyBatisåœ¨è¿›è¡Œäº‹åŠ¡æäº¤æ—¶ï¼Œä¼šè‡ªåŠ¨æ¸…ç©ºç¼“å­˜\n\n    ã€4ã€‘ åœ¨æŸ¥è¯¢æ“ä½œåä¸€å®šè¦å…³é—­SqlSession   å¢åˆ æ”¹æ“ä½œä¸€å®šè¦æ§åˆ¶äº‹åŠ¡\n\n4.$ä¸#çš„åŒºåˆ«\n\tâ‘  #{} æ˜¯ä»¥ï¼Ÿå ä½ç¬¦çš„å½¢å¼æˆæˆsqlè¯­å¥ï¼Œç„¶ååœ¨èµ‹å€¼ï¼Œç›¸å½“äºè°ƒç”¨äº†pstmt.setXXX()è¿™ä¸ªæ–¹æ³•ç»™sqlè¯­å¥ä¸­çš„æ¡ä»¶èµ‹å€¼\n\t    ${} æ˜¯ä»¥å­—ç¬¦ä¸²æ‹¼æ¥çš„å½¢å¼æ¥ç»™sqlè¯­å¥èµ‹å€¼çš„ï¼ˆå°†sqlè¯­å¥æ‹†åˆ†æˆå¤šä¸ªå­—ç¬¦ä¸²ï¼Œå°†æ‰€è¦æ’å…¥çš„å€¼æ”¾å…¥å­—ç¬¦ä¸²æ‹¼æ¥çš„éƒ¨åˆ†ï¼Œå¹¶å°†ä¸¤éƒ¨åˆ†sqlè¯­å¥è¿æ¥èµ·æ¥ï¼‰\n\tâ‘¡ #{}æ›¿æ¢çš„æ˜¯å€¼ï¼Œä¸ç®¡è¾“å…¥ä»€ä¹ˆå†…å®¹éƒ½å°†å…¶å½“åšä¸€ä¸ªå­—ç¬¦ä¸²çœ‹å¾… \n\n\t    ${}æ›¿æ¢çš„æ˜¯å­—æ®µ  å­˜åœ¨sqlæ³¨å…¥é—®é¢˜ \n\n5.äº‹åŠ¡çš„å››ä¸ªç‰¹æ€§\n â‘  åŸå­æ€§ï¼šåŒä¸€äº‹åŠ¡çš„å¤šæ¡sqlè¯­å¥æ—¶ä¸å¯åˆ†å‰²çš„æ•´ä½“ï¼Œéƒ½æˆåŠŸæ‰æˆåŠŸï¼Œæœ‰ä¸€æ¡å¤±è´¥åˆ™å…¨éƒ¨å¤±è´¥\n â‘¡ ä¸€è‡´æ€§ï¼šäº‹åŠ¡å¼€å§‹å‰å’Œäº‹åŠ¡ç»“æŸåï¼Œæ•°æ®åº“çš„æ•°æ®ä¿æŒä¸€è‡´\n â‘¢ éš”ç¦»æ€§ï¼šäº‹åŠ¡ä¸äº‹åŠ¡ä¹‹é—´ç›¸äº’ç‹¬ç«‹ï¼Œäº’ä¸å¹²æ¶‰\n\n â‘£ æŒä¹…æ€§ï¼šäº‹åŠ¡æ‰§è¡Œåï¼Œå¯¹æ•°æ®åº“çš„å½±å“æ˜¯æ°¸ä¹…çš„\n\n6.æ•°æ®åº“çš„äº‹åŠ¡éš”ç¦»çº§åˆ«\n \tâ‘  è„è¯»ï¼šè¯»æœªæäº¤ï¼ˆäº‹åŠ¡é”ï¼‰\n \t\tä¸€ä¸ªäº‹åŠ¡è¯»å–äº†å¦ä¸€ä¸ªäº‹åŠ¡æ²¡æœ‰æäº¤çš„ä¸´æ—¶æ•°æ®\n \tâ‘¡ ä¸å¯é‡å¤è¯»ï¼šè¯»æäº¤ï¼ˆè¡Œçº§é”ï¼‰\n \t\tä¸€ä¸ªäº‹åŠ¡ä¸­å¯¹ç›¸åŒçš„æ•°æ®ï¼Œè¿›è¡Œå¤šæ¬¡è¯»å–ï¼Œè¯»å–ç»“æœä¸ä¸€è‡´\n \tâ‘¢ å¹»å½±è¯»ï¼šé‡å¤è¯»ï¼ˆè¡¨çº§é”ï¼‰\n \t\tä¸€ä¸ªäº‹åŠ¡ä¸­å¯¹åŒä¸€å¼ è¡¨çš„å¤šæ¬¡æŸ¥è¯¢ï¼Œä½†ç»“æœä¸ä¸€è‡´\n \tâ‘£ åºåˆ—åŒ–\n\n \t\tåºåˆ—åŒ–æ˜¯äº‹åŠ¡éš”ç¦»çº§åˆ«æœ€é«˜çš„çº§åˆ«ï¼Œåœ¨è¯¥æ¨¡å¼ä¸‹æ‰€æœ‰äº‹åŠ¡æŒ‰é¡ºåºæ‰§è¡Œï¼Œå¯ä»¥é¿å…ä»¥ä¸Šä¸‰ç§æƒ…å†µ\n")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("pre",[t("code",[this._v("1.ç®€ä»‹\n\tredisæ˜¯ä¸€ä¸ªåŸºäºå†…å­˜çš„é«˜æ€§èƒ½çš„key valueçš„NoSQLæ•°æ®åº“,å…¶ä¸­å†…éƒ¨æ•°æ®ç±»å‹ä¸°å¯Œï¼ŒåŒ…æ‹¬ä»¥ä¸‹äº”ç§ï¼š\n \tâ‘  Listï¼šæœ‰åºå¯é‡å¤\n \tâ‘¡ Setï¼šæ— åºä¸å¯é‡å¤\n \tâ‘¢ hashï¼šå­˜å‚¨é”®å€¼å¯¹\n \tâ‘£ Stringï¼šæ‰€æœ‰keyçš„ç±»å‹\n \tâ‘¤ ZSetï¼šå¯æ’åº  æŒ‰åˆ†æ’åº  å¯åšæ’è¡Œæ¦œä½¿ç”¨ï¼Œä½¿ç”¨ArrayListå®ç°\n \t\n2.ä»€ä¹ˆæ˜¯NoSQLï¼ˆNot Only SQLï¼‰\n\tâ‘  å…³ç³»å‹æ•°æ®åº“ï¼ˆRDBï¼‰ï¼šä»¥è¡¨æ ¼çš„å½¢å¼å­˜å‚¨æ•°æ®\n\tâ‘¡ NoSQLç±»å‹æ•°æ®åº“ï¼šä¸æ˜“è¡¨æ ¼çš„å½¢å¼å­˜å‚¨æ•°æ®\n\t\n3.NoSQLç±»å‹æ•°æ®åº“çš„ç‰¹ç‚¹ï¼š\n\tâ‘  Schemalessï¼šå¼±ç»“æ„åŒ–ï¼ˆå¿½ç•¥è¡¨æ ¼ è¡Œ åˆ—ï¼‰ï¼Œè¡¨æ ¼å¼å­˜å‚¨æ•°æ®ç»“æ„å¤ªè¿‡åƒµåŒ–\n\tâ‘¡ In-Memory å†…å­˜å‹äº§å“\n\tâ‘¢ å¼±åŒ–äº‹åŠ¡ï¼ˆæ²¡æœ‰äº‹åŠ¡  äº‹åŠ¡ç®€å•ï¼‰ï¼šæœ‰äº‹åŠ¡ä¼šå½±å“å¹¶å‘ï¼Œå¼±åŒ–äº‹åŠ¡ä¼šæé«˜ç³»ç»Ÿè¿è¡Œæ•ˆç‡\n\tâ‘£ é€‚ç”¨äºClusterï¼ˆé›†ç¾¤ï¼‰ç¯å¢ƒ\n\tâ‘¤ æ²¡æœ‰å¤æ‚çš„è¡¨è¿æ¥æŸ¥è¯¢æ“ä½œï¼šè¡¨è¿æ¥çš„å·¥ä½œåŸç†ï¼šæ‹¿aè¡¨çš„ä¸€æ¡æ•°æ®ä¸bè¡¨çš„æ‰€æœ‰æ•°æ®ä¸€ä¸€è¿›è¡Œæ¯”å¯¹ï¼Œè¿è¡Œæ•ˆç‡ä½\n\tâ‘¥ æ”¯æŒè„šæœ¬ç¼–ç¨‹è¯­è¨€ï¼ˆJavaScript  lua ...ï¼‰\t\n\tâ‘¦ å¸¸è§çš„NOSQLäº§å“\n\t\t[1]Redisï¼ˆkey valueï¼‰\n\t\t[2]MongoDBï¼ˆJSONï¼‰\n\t\t[3]HBASE  å­˜å‚¨åˆ—ç±»å‹\n\t\t[4]Cassandra  å­˜å‚¨åˆ—ç±»å‹ æ°¸è¿œæ²¡æœ‰å•èŠ‚ç‚¹æ•…éšœ\n\n4.Redisçš„ç‰¹ç‚¹\n\tâ‘  Redisæ˜¯ä¸€ä¸ªé«˜æ€§èƒ½çš„key valueæ•°æ®åº“\n\tâ‘¡ æ˜¯ä¸€ä¸ªåŸºäºå†…å­˜çš„æ•°æ®åº“äº§å“\n\tâ‘¢ å†…éƒ¨æ•°æ®ç±»å‹ä¸°å¯Œ\n\tâ‘£ å¯æŒä¹…åŒ–\n\tâ‘¤ å¯ç”¨äºè®¢é˜…/å‘å¸ƒ æ¨¡å‹\n\n5.Redis ä¸ Memcacheçš„åŒºåˆ«\n\tâ‘  Redisæ˜¯ä¸€ä¸ªå†…å­˜è¡Œæ•°æ®åº“äº§å“ï¼Œè€ŒMmcacheæ˜¯ä¸€ä¸ªå†…å­˜å‹ç¼“å­˜äº§å“ï¼ŒRediså¯ä»¥å¯¹å†…å­˜ä¸­çš„æ•°æ®è¿›è¡ŒæŒä¹…åŒ–ï¼Œè€ŒMemcacheä¸è¡Œ\n\tâ‘¡ Redisä¸ä»…ä»…æ”¯æŒç®€å•çš„key valueç±»å‹çš„æ•°æ®ï¼ŒåŒæ—¶è¿˜æä¾›listï¼Œsetï¼Œhashç­‰æ•°æ®ç»“æ„å­˜å‚¨\n\tâ‘¢ Redisæ”¯æŒæ•°æ®çš„ä¸»ä»èµ‹å€¼ï¼Œå³é›†ç¾¤ç¯å¢ƒä¸‹çš„æ•°æ®å¤‡ä»½\n\tâ‘£ Redisæ”¯æŒæ•°æ®çš„æŒä¹…åŒ–ï¼Œå¯ä»¥å°†å†…å­˜ä¸­å¹´çš„æ•°æ®ä¿å­˜åˆ°ç£ç›˜ä¸­ï¼Œé‡å¯çš„æ—¶å€™å¯ä»¥å†æ¬¡åŠ è½½åŸæœ‰æ•°æ®\n\tâ‘¤ Rediså•ä¸ªvalueæœ€å¤§é™åˆ¶æ˜¯1GBï¼Œmemcachedåªèƒ½ä¿å­˜1MBçš„æ•°æ®\n\n6.åŸºç¡€å‘½ä»¤\n\tâ‘  Stringç±»å‹\n\t\t[1]flushall  \t\tï¼šæ¸…ç©ºæ‰€æœ‰æ•°æ®åº“ä¸­çš„æ‰€æœ‰key\t\n\t\t\tflushdb  \t\tï¼šæ¸…ç©ºå½“å‰æ•°æ®åº“ä¸­çš„æ‰€æœ‰key\n\t\t[2]keys *    \t\tï¼šæŸ¥è¯¢æ‰€æœ‰key\n\t\t[3]get key   \t\tï¼šå–å€¼\n\t\t[4]set key value\tï¼šå­˜å€¼\n\t\t[5]msetnx key key\tï¼šåˆ›å»ºå¤šä¸ªkey\n\t\t[6]mget key key \tï¼šä¸€æ¬¡å–å¤šä¸ªå€¼\n\t\t[7]getset key value ï¼šè·å–åŸå§‹å€¼å¹¶è®¾ç½®æ–°å€¼\n\t\t[8]strlen key \t\tï¼šè·å–å€¼é•¿åº¦\n\t\t[9]append key value ï¼šè¿½åŠ å€¼å†…å®¹\n\t\t[10]getrange key a bï¼šæˆªå–valueå€¼ï¼Œä»aä¸‹æ ‡å¼€å§‹åˆ°bä¸‹æ ‡ç»“æŸ\n\t\t[11]setnx key value ï¼šå¦‚æœkeyä¸å­˜åœ¨åˆ™åˆ›å»ºï¼Œå¦‚æœkeyå­˜åœ¨åˆ™ä¸åˆ›å»º\n\t\t[12]decr key  \t\tï¼šå¯¹æ•°å€¼ç±»å‹çš„å€¼-1\n\t\t[13]decrby key x \tï¼šå¯¹æ•°å€¼ç±»å‹çš„å€¼æŒ‡å®š-x\n\t\t[14]incr key  \t\tï¼šå¯¹æ•°å€¼ç±»å‹çš„å€¼+1\n\t\t[15]incrby key x \tï¼šå¯¹æ•°å€¼ç±»å‹çš„å€¼æŒ‡å®š+x\n\t\t[16]incrbyfloat key y \t\tï¼šå¯¹æ•°å€¼ç±»å‹çš„å€¼æŒ‡å®š+yæµ®ç‚¹æ•°\n\t\t[17]setex key x value\t\tï¼šè®¾ç½®ä¸€ä¸ªkeyçš„å­˜æ´»æ—¶é—´ä¸ºxç§’\n\t\t[18]psetex key x value\t\tï¼šè®¾ç½®ä¸€ä¸ªkeyçš„å­˜æ´»æ—¶é—´ä¸ºxæ¯«ç§’\n\t\t[19]mset key1 value1 key2 value2\tï¼šä¸€æ¬¡è®¾ç½®å¤šä¸ªkey value\n\t\t\n\tâ‘¡ Listç±»å‹ï¼ˆæœ‰åºå¯é‡å¤ï¼‰\n\t\t[1]lpush key value \tï¼šå­˜å€¼ æ¯æ¬¡å°†valueå­˜å…¥ä¸‹æ ‡0ä½ç½®   ç±»ä¼¼å‹æ ˆ\n\t\t[2]lrang key 0 -1  \tï¼šä»ä¸‹æ ‡0å¼€å§‹è·å–åˆ°è¿”å›-1ç»“æŸ\n\t\t[3]lpushx key value\tï¼šå‘å·²å­˜åœ¨keyä¸­å­˜å€¼\n\t\t[4]rpush key value \tï¼šå­˜å€¼\n\t\t[5]rpushx key value\tï¼šå‘å·²å­˜åœ¨keyä¸­å­˜å€¼\n\t\t[6]lpop key\t\t\tï¼šè¿”å›å¹¶ç§»é™¤ç¬¬ä¸€ä¸ªå…ƒç´ \n\t\t[7]rpop key \t\tï¼šè¿”å›å¹¶ç§»é™¤æœ€åä¸€ä¸ªå…ƒç´ \n\t\t[8]lrange key a b \tï¼šå–å€¼ä»ä¸‹æ ‡aå¼€å§‹åˆ°ä¸‹æ ‡bç»“æŸ\n\t\t[9]llen key \t\tï¼šè·å–å…ƒç´ ä¸ªæ•°\n\t\t[10]lset key x valueï¼šæ›¿æ¢ä¸‹æ ‡xä½ç½®çš„å€¼\n\t\t[12]lindex key x  \tï¼šè·å–ä¸‹æ ‡xä½ç½®çš„å€¼\n\t\t[13]lrem key x valueï¼šåˆ é™¤keyä¸­é‡å¤valueçš„xä¸ªå…ƒç´ \n\t\t[14]lrange key a b\tï¼šæˆªå–ä»ä¸‹æ ‡aå¼€å§‹åˆ°ä¸‹æ ‡bç»“æŸ\n\t\t[15]linsert key before value1 value2ï¼šåœ¨value1ä¹‹å‰æ’å…¥value2\n\t\t\n\tâ‘¢ Setç±»å‹ï¼ˆæ— åºä¸å¯é‡å¤ï¼‰\n\t\t[1]sadd key value \tï¼šå­˜å€¼\n\t\t[2]smembers key   \tï¼šæ˜¾ç¤ºæ‰€æœ‰å€¼\n\t\t[3]scard key\t  \tï¼šè¿”å›å…ƒç´ ä¸ªæ•°\n\t\t[4]spop key \t  \tï¼šéšæœºè·å–ä¸€ä¸ªå…ƒç´  å¹¶ç§»é™¤\n\t\t[5]sunion key1 key2\tï¼šæŸ¥è¯¢key1å’Œkey2\n\t\t[6]srem key value   ï¼šåˆ é™¤æŒ‡å®švalue\n\t\t[7]srandmember key \tï¼šéšæœºè¿”å›ä¸€ä¸ªå…ƒç´ \n\t\t[8]sdiff key1 key2 \tï¼šåˆ é™¤key1 key2å…±æœ‰çš„å…ƒç´ \n\t\t[9]sinter key1 key2\tï¼šæŸ¥è¯¢key1 key2å…±æœ‰çš„å…ƒç´ \n\t\t[10]smove key1 value key2\tï¼šå°†key1ä¸­çš„ä¸€ä¸ªvalueç§»åŠ¨åˆ°key2ä¸­\n\t\t[11]sismember key value \tï¼šåˆ¤æ–­å€¼æ˜¯å¦å­˜åœ¨\n\t\t\n\tâ‘£ ZSetï¼ˆå¯æ’åº  æŒ‰åˆ†æ’åº  å¯åšæ’è¡Œæ¦œï¼‰\n\t\t[1]zadd key n value ï¼šæ·»åŠ ä¸€ä¸ªkey åˆ†æ•°ä¸ºn\n\t\t[2]zcard key\t\tï¼šè¿”å›å…ƒç´ ä¸ªæ•°\n\t\t[3]zrange key a b\tï¼šæŸ¥è¯¢ä»ä¸‹æ ‡aå¼€å§‹åˆ°ä¸‹æ ‡bç»“æŸ\n\t\t   zrange key a -1 \tï¼šæŸ¥è¯¢ä»ä¸‹æ ‡aå¼€å§‹åˆ°è¿”å›-1ç»“æŸ\n\t\t[4]zrem key value   ï¼šç§»é™¤\n\t\t[5]zrank key value\tï¼šæŸ¥è¯¢æŒ‡å®švalueçš„ä¸‹æ ‡\n\t\t[6]zscore key value ï¼šæŸ¥è¯¢æŒ‡å®švalueçš„åˆ†æ•°\n\t\t[7]zrangebyscore key x y\tï¼šæŸ¥è¯¢åˆ†æ•°xåˆ°yä¹‹é—´çš„value\n\t\t[8]zrevrank key value\t\tï¼šå€’åºæŸ¥è¯¢æŒ‡å®švalueçš„ä¸‹æ ‡\n\t\t[9]zincrby key x value \t\tï¼šä¸ºæŒ‡å®švalueåˆ†æ•°å¢åŠ x\n\t\t\n\tâ‘¤ Hashï¼ˆå­˜å‚¨é”®å€¼å¯¹ï¼‰\n\t\t[1]hset Key key value\tï¼šåœ¨Keyä¸­å­˜å‚¨ä¸€ä¸ªé”®å€¼å¯¹\n\t\t[2]hget Key key \t\tï¼šé€šè¿‡é”®å–å€¼\n\t\t[3]hgetall Key  \t\tï¼šæŸ¥è¯¢æ‰€æœ‰é”®å€¼å¯¹\n\t\t[4]hdel Key key \t\tï¼šé€šè¿‡keyåˆ é™¤å¯¹åº”çš„é”®å€¼å¯¹\n\t\t[5]hexists Key key\t\tï¼šåˆ¤æ–­Keyä¸­keyæ˜¯å¦å­˜åœ¨\n\t\t[6]hkeys Key \t\t\tï¼šæŸ¥è¯¢æ‰€æœ‰key\n\t\t[7]hvals Key \t\t\tï¼šæŸ¥è¯¢æ‰€æœ‰value\n\t\t[8]hmset Key key value key valueï¼šè®¾ç½®å¤šä¸ªé”®å€¼å¯¹\n\t\t[9]hmget Key key1 key2\tï¼šè·å–å¤šä¸ªkeyçš„å€¼\n\t\t[10]hsetnx key value\tï¼šè®¾ç½®ä¸€ä¸ªä¸å­˜åœ¨çš„keyçš„å€¼\n\t\t[11]hincrby Key key x\tï¼šå¯¹æ•°å€¼ç±»å‹çš„å€¼æŒ‡å®š+x\n\n\t\t[12]hincrbyfloat Key key y \t\tï¼šå¯¹æ•°å€¼ç±»å‹çš„å€¼æŒ‡å®š+yæµ®ç‚¹æ•°\n\n    7.Redisçš„æŒä¹…åŒ–\n\tRedisæ˜¯ä¸€ä¸ªæ”¯æŒæŒä¹…åŒ–çš„å†…å­˜æ•°æ®åº“ï¼Œä¹Ÿå°±æ˜¯è¯´Rediséœ€è¦ç»å¸¸å°†å†…å­˜ä¸­çš„æ•°æ®åŒæ­¥åˆ°ç£ç›˜æ¥ä¿è¯æŒä¹…åŒ–ã€‚\n\tRedisæ”¯æŒä¸¤ç§æŒä¹…åŒ–æ–¹å¼ï¼Œä¸€ç§æ˜¯Snapshottiongï¼ˆå¿«ç…§RDBï¼‰ï¼ˆé»˜è®¤ï¼‰ï¼Œå¦ä¸€ç§æ˜¯Append-Only Fileï¼ˆç¼©å†™AOFï¼‰çš„æ–¹å¼\n\tâ‘  RDB\n\t\tã€1ã€‘è¿è¡Œæœºåˆ¶ï¼šåœ¨æŸä¸ªæ—¶é—´ç‚¹ä¿å­˜ä¸€ä¸ªå®Œæ•´çš„æ•°æ®å¿«ç…§\n\t\tã€2ã€‘è¿è¡ŒåŸç†ï¼š\n\t\t\tRedisæ˜¯ä¸€ä¸ªå•è¿›ç¨‹çš„æœåŠ¡ï¼Œé€šè¿‡forkäº§ç”Ÿå­è¿›ç¨‹ï¼Œçˆ¶è¿›ç¨‹ç»§ç»­å¤„ç†Clientè¯·æ±‚ï¼Œå­è¿›ç¨‹è´Ÿè´£å°†å¿«ç…§å†™å…¥ä¸´æ—¶æ–‡ä»¶ä¸­ï¼Œå­è¿›ç¨‹å†™å®Œåï¼Œç”¨ä¸´æ—¶æ–‡ä»¶æ›¿æ¢åŸæ¥çš„å¿«ç…§æ–‡ä»¶ï¼Œç„¶åå­è¿›ç¨‹é€€å‡º\n\tâ‘¡ AOF\n\t\tã€1ã€‘ è¿è¡Œæœºåˆ¶ï¼šç›´æ¥å°†Redisçš„æ‰§è¡Œå‘½ä»¤ï¼Œç›´æ¥å†™åœ¨logæ–‡ä»¶ä¸­\n\t\tã€2ã€‘è¿è¡ŒåŸç†ï¼š\n\t\t\tRedisé€šè¿‡forkä¸€ä¸ªå­è¿›ç¨‹ï¼Œçˆ¶è¿›ç¨‹ç»§ç»­å¤„ç†Clientè¯·æ±‚ï¼Œå­è¿›ç¨‹æŠŠAOFå†…å®¹å†™å…¥ç¼“å†²åŒºï¼Œå­è¿›ç¨‹å†™å®Œé€€å‡ºï¼Œçˆ¶è¿›ç¨‹æ¥æ”¶é€€å‡ºæ¶ˆæ¯ï¼Œå°†ç¼“å†²åŒºAOFå†™å…¥ä¸´æ—¶æ–‡ä»¶ï¼Œä¸´æ—¶æ–‡ä»¶é‡å‘½åä¸ºappendonly.aof åŸæ¥æ–‡ä»¶è¢«è¦†ç›–ï¼Œæ•´ä¸ªè¿‡ç¨‹å®Œæˆ\n8.åˆ†å¸ƒå¼ç¼“å­˜åŸç†\n \t åˆ†å¸ƒå¼ç¼“å­˜ç”±æœåŠ¡ç«¯å®ç°ç®¡ç†å’Œæ§åˆ¶ï¼Œç”±å¤šä¸ªå®¢æˆ·ç«¯èŠ‚ç‚¹å­˜å‚¨æ•°æ®ï¼Œå¯ä»¥è¿›ä¸€æ­¥æé«˜æ•°æ®çš„è¯»å–é€Ÿåº¦ã€‚å½“æˆ‘ä»¬è¦è¯»å–æŸä¸ªæ•°æ®çš„æ—¶å€™ä¼šæ ¹æ®ä¸€è‡´æ€§å“ˆå¸Œç®—æ³•ç¡®å®šæ•°æ®çš„å­˜å‚¨å’Œè¯»å–èŠ‚ç‚¹ï¼Œé€šè¿‡å¯¹åº”çš„å“ˆå¸Œå€¼æ‰¾åˆ°å¯¹åº”çš„èŠ‚ç‚¹ï¼Œä¸€è‡´æ€§å“ˆå¸Œç®—æ³•çš„å¥½å¤„åœ¨äºèŠ‚ç‚¹ä¸ªæ•°å‘ç”Ÿå˜åŒ–æ—¶æ— éœ€é‡æ–°è®¡ç®—å“ˆå¸Œå€¼ï¼Œä¿è¯æ•°æ®å­˜å‚¨æˆ–è¯»å–æ—¶é—´å¯ä»¥æ­£ç¡®ã€å¿«é€Ÿçš„æ‰¾åˆ°å¯¹åº”çš„èŠ‚ç‚¹ã€åˆ†å¸ƒå¼ç¼“å­˜èƒ½å¤Ÿé«˜æ€§èƒ½çš„è¯»å–æ•°æ®ã€èƒ½å¤ŸåŠ¨æ€çš„æ‰©å±•ç¼“å­˜èŠ‚ç‚¹ã€èƒ½å¤Ÿè‡ªåŠ¨å‘ç°å’Œåˆ‡æ¢æ•…éšœèŠ‚ç‚¹ã€èƒ½å¤Ÿè‡ªåŠ¨å‡è¡¡æ•°æ®åˆ†åŒºï¼Œè€Œä¸”èƒ½å¤Ÿä¸ºä½¿ç”¨è€…æä¾›å›¾å½¢åŒ–çš„ç•Œé¢ç®¡ç†ï¼Œéƒ¨ç½²å’Œç»´æŠ¤éƒ½ååˆ†æ–¹ä¾¿ï¼Œä¸€è‡´æ€§å“ˆå¸Œç®—æ³•æ˜¯ä½¿ç”¨MD5ä¸MurmurHashä¸¤ç§è®¡ç®—æ–¹å¼ï¼Œè®¡ç®—hashå€¼ï¼Œé€šè¿‡javaçš„TreeMapæ¥æ¨¡æ‹Ÿæ¢è£…ç»“æ„å®ç°å‡åŒ€åˆ†å¸ƒ\n")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[t("img",{attrs:{src:"https://images2017.cnblogs.com/blog/388326/201707/388326-20170726161552843-904424952.png",alt:"img"}})])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[t("img",{attrs:{src:"https://images2017.cnblogs.com/blog/388326/201707/388326-20170726161604968-371688235.png",alt:"img"}})])},function(){var e=this.$createElement,t=this._self._c||e;return t("h4",{attrs:{id:"mysql-memcachedæ¶æ„çš„é—®é¢˜"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#mysql-memcachedæ¶æ„çš„é—®é¢˜"}},[this._v("#")]),this._v(" MySql+Memcachedæ¶æ„çš„é—®é¢˜")])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[t("img",{attrs:{src:"https://images2018.cnblogs.com/blog/1368782/201808/1368782-20180821201924742-1470196696.png",alt:"img"}})])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[this._v("â‘  "),t("strong",[this._v("string")]),this._v(" æ˜¯ redis æœ€åŸºæœ¬çš„ç±»å‹ï¼Œä½ å¯ä»¥ç†è§£æˆä¸ Memcached ä¸€æ¨¡ä¸€æ ·çš„ç±»å‹ï¼Œä¸€ä¸ª key å¯¹åº”ä¸€ä¸ª valueã€‚valueå…¶å®ä¸ä»…æ˜¯Stringï¼Œä¹Ÿå¯ä»¥æ˜¯æ•°å­—ã€‚string ç±»å‹æ˜¯äºŒè¿›åˆ¶å®‰å…¨çš„ã€‚æ„æ€æ˜¯ redis çš„ string å¯ä»¥åŒ…å«ä»»ä½•æ•°æ®ã€‚æ¯”å¦‚jpgå›¾ç‰‡æˆ–è€…åºåˆ—åŒ–çš„å¯¹è±¡ã€‚string ç±»å‹æ˜¯ Redis æœ€åŸºæœ¬çš„æ•°æ®ç±»å‹ï¼Œstring ç±»å‹çš„å€¼æœ€å¤§èƒ½å­˜å‚¨ 512MBã€‚")])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("ul",[s("li",[e._v("è·å–å­—ç¬¦ä¸²é•¿åº¦")]),e._v(" "),s("li",[e._v("å¾€å­—ç¬¦ä¸²appendå†…å®¹")]),e._v(" "),s("li",[e._v("è®¾ç½®å’Œè·å–å­—ç¬¦ä¸²çš„æŸä¸€æ®µå†…å®¹")]),e._v(" "),s("li",[e._v("è®¾ç½®åŠè·å–å­—ç¬¦ä¸²çš„æŸä¸€ä½ï¼ˆbitï¼‰")]),e._v(" "),s("li",[e._v("æ‰¹é‡è®¾ç½®ä¸€ç³»åˆ—å­—ç¬¦ä¸²çš„å†…å®¹")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v('redis 127.0.0.1:6379> SET name "runoob"\n"OK"\nredis 127.0.0.1:6379> GET name\n"runoob"\n')])]),this._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[this._v("1")]),t("br"),t("span",{staticClass:"line-number"},[this._v("2")]),t("br"),t("span",{staticClass:"line-number"},[this._v("3")]),t("br"),t("span",{staticClass:"line-number"},[this._v("4")]),t("br")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[this._v("åœ¨ä»¥ä¸Šå®ä¾‹ä¸­æˆ‘ä»¬ä½¿ç”¨äº† Redis çš„ "),t("strong",[this._v("SET")]),this._v(" å’Œ "),t("strong",[this._v("GET")]),this._v(" å‘½ä»¤ã€‚é”®ä¸º nameï¼Œå¯¹åº”çš„å€¼ä¸º "),t("strong",[this._v("runoob")]),this._v("ã€‚")])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[this._v("â‘¡ "),t("strong",[this._v("Redis hash")]),this._v(" æ˜¯ä¸€ä¸ªé”®å€¼(key => value)å¯¹é›†åˆã€‚Redis hash æ˜¯ä¸€ä¸ª string ç±»å‹çš„ field å’Œ value çš„æ˜ å°„è¡¨ï¼Œhash ç‰¹åˆ«é€‚åˆç”¨äºå­˜å‚¨å¯¹è±¡ã€‚")])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[t("img",{attrs:{src:"https://images2018.cnblogs.com/blog/1368782/201808/1368782-20180821202451984-479691318.png",alt:"img"}})])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[t("img",{attrs:{src:"https://images2018.cnblogs.com/blog/1368782/201808/1368782-20180821202546802-636845502.png",alt:"img"}})])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[t("img",{attrs:{src:"https://images2018.cnblogs.com/blog/1368782/201808/1368782-20180821202632663-939669694.png",alt:"img"}})])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v('redis> HSET myhash field1 "Hello" field2 "World"\n"OK"\nredis> HGET myhash field1\n"Hello"\nredis> HGET myhash field2\n"World"\n')])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br"),s("span",{staticClass:"line-number"},[e._v("2")]),s("br"),s("span",{staticClass:"line-number"},[e._v("3")]),s("br"),s("span",{staticClass:"line-number"},[e._v("4")]),s("br"),s("span",{staticClass:"line-number"},[e._v("5")]),s("br"),s("span",{staticClass:"line-number"},[e._v("6")]),s("br")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("p",[e._v("å®ä¾‹ä¸­æˆ‘ä»¬ä½¿ç”¨äº† Redis "),s("strong",[e._v("HMSET, HGET")]),e._v(" å‘½ä»¤ï¼Œ"),s("strong",[e._v("HMSET")]),e._v(" è®¾ç½®äº†ä¸¤ä¸ª field=>value å¯¹, HGET è·å–å¯¹åº” "),s("strong",[e._v("field")]),e._v(" å¯¹åº”çš„ "),s("strong",[e._v("value")]),e._v("ã€‚æ¯ä¸ª hash å¯ä»¥å­˜å‚¨ 232 -1 é”®å€¼å¯¹ï¼ˆ40å¤šäº¿ï¼‰ã€‚")])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[this._v("â‘¢ "),t("strong",[this._v("Redis list")]),this._v(" åˆ—è¡¨æ˜¯ç®€å•çš„å­—ç¬¦ä¸²åˆ—è¡¨ï¼ŒæŒ‰ç…§æ’å…¥é¡ºåºæ’åºã€‚ä½ å¯ä»¥æ·»åŠ ä¸€ä¸ªå…ƒç´ åˆ°åˆ—è¡¨çš„å¤´éƒ¨ï¼ˆå·¦è¾¹ï¼‰æˆ–è€…å°¾éƒ¨ï¼ˆå³è¾¹ï¼‰ã€‚")])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v('//æŠŠå½“å‰ç™»å½•äººæ·»åŠ åˆ°é“¾è¡¨é‡Œ\nret = r.lpush("login:last_login_times", uid)\n//ä¿æŒé“¾è¡¨åªæœ‰Nä½\nret = redis.ltrim("login:last_login_times", 0, N-1)\n//è·å¾—å‰Nä¸ªæœ€æ–°ç™»é™†çš„ç”¨æˆ·Idåˆ—è¡¨\nlast_login_list = r.lrange("login:last_login_times", 0, N-1)\n')])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br"),s("span",{staticClass:"line-number"},[e._v("2")]),s("br"),s("span",{staticClass:"line-number"},[e._v("3")]),s("br"),s("span",{staticClass:"line-number"},[e._v("4")]),s("br"),s("span",{staticClass:"line-number"},[e._v("5")]),s("br"),s("span",{staticClass:"line-number"},[e._v("6")]),s("br")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[this._v("["),t("img",{attrs:{src:"https://common.cnblogs.com/images/copycode.gif",alt:"å¤åˆ¶ä»£ç "}}),this._v("](javascript:void(0)ğŸ˜‰")])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v('redis 127.0.0.1:6379> lpush runoob redis\n(integer) 1\nredis 127.0.0.1:6379> lpush runoob mongodb\n(integer) 2\nredis 127.0.0.1:6379> lpush runoob rabitmq\n(integer) 3\nredis 127.0.0.1:6379> lrange runoob 0 10\n1) "rabitmq"\n2) "mongodb"\n3) "redis"\nredis 127.0.0.1:6379>\n')])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br"),s("span",{staticClass:"line-number"},[e._v("2")]),s("br"),s("span",{staticClass:"line-number"},[e._v("3")]),s("br"),s("span",{staticClass:"line-number"},[e._v("4")]),s("br"),s("span",{staticClass:"line-number"},[e._v("5")]),s("br"),s("span",{staticClass:"line-number"},[e._v("6")]),s("br"),s("span",{staticClass:"line-number"},[e._v("7")]),s("br"),s("span",{staticClass:"line-number"},[e._v("8")]),s("br"),s("span",{staticClass:"line-number"},[e._v("9")]),s("br"),s("span",{staticClass:"line-number"},[e._v("10")]),s("br"),s("span",{staticClass:"line-number"},[e._v("11")]),s("br")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[this._v("["),t("img",{attrs:{src:"https://common.cnblogs.com/images/copycode.gif",alt:"å¤åˆ¶ä»£ç "}}),this._v("](javascript:void(0)ğŸ˜‰")])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[this._v("â‘£ "),t("strong",[this._v("Redis set")]),this._v("æ˜¯stringç±»å‹çš„æ— åºé›†åˆã€‚é›†åˆæ˜¯é€šè¿‡hashtableå®ç°çš„ï¼Œæ¦‚å¿µå’Œæ•°å­¦ä¸­ä¸ªçš„é›†åˆåŸºæœ¬ç±»ä¼¼ï¼Œå¯ä»¥äº¤é›†ï¼Œå¹¶é›†ï¼Œå·®é›†ç­‰ç­‰ï¼Œsetä¸­çš„å…ƒç´ æ˜¯æ²¡æœ‰é¡ºåºçš„ã€‚æ‰€ä»¥æ·»åŠ ï¼Œåˆ é™¤ï¼ŒæŸ¥æ‰¾çš„å¤æ‚åº¦éƒ½æ˜¯O(1)ã€‚")])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[this._v("["),t("img",{attrs:{src:"https://common.cnblogs.com/images/copycode.gif",alt:"å¤åˆ¶ä»£ç "}}),this._v("](javascript:void(0)ğŸ˜‰")])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v('//bookè¡¨å­˜å‚¨bookåç§°\nset book:1:name    â€The Ruby Programming Languageâ€\nset book:2:name     â€Ruby on railâ€\nset book:3:name     â€Programming Erlangâ€\n//tagè¡¨ä½¿ç”¨é›†åˆæ¥å­˜å‚¨æ•°æ®ï¼Œå› ä¸ºé›†åˆæ“…é•¿æ±‚äº¤é›†ã€å¹¶é›†\nsadd tag:ruby 1\nsadd tag:ruby 2\nsadd tag:web 2\nsadd tag:erlang 3\n//å³å±äºrubyåˆå±äºwebçš„ä¹¦ï¼Ÿ\ninter_list = redis.sinter("tag.web", "tag:ruby") \n//å³å±äºrubyï¼Œä½†ä¸å±äºwebçš„ä¹¦ï¼Ÿ\ninter_list = redis.sdiff("tag.ruby", "tag:web") \n//å±äºrubyå’Œå±äºwebçš„ä¹¦çš„åˆé›†ï¼Ÿ\ninter_list = redis.sunion("tag.ruby", "tag:web")\n')])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br"),s("span",{staticClass:"line-number"},[e._v("2")]),s("br"),s("span",{staticClass:"line-number"},[e._v("3")]),s("br"),s("span",{staticClass:"line-number"},[e._v("4")]),s("br"),s("span",{staticClass:"line-number"},[e._v("5")]),s("br"),s("span",{staticClass:"line-number"},[e._v("6")]),s("br"),s("span",{staticClass:"line-number"},[e._v("7")]),s("br"),s("span",{staticClass:"line-number"},[e._v("8")]),s("br"),s("span",{staticClass:"line-number"},[e._v("9")]),s("br"),s("span",{staticClass:"line-number"},[e._v("10")]),s("br"),s("span",{staticClass:"line-number"},[e._v("11")]),s("br"),s("span",{staticClass:"line-number"},[e._v("12")]),s("br"),s("span",{staticClass:"line-number"},[e._v("13")]),s("br"),s("span",{staticClass:"line-number"},[e._v("14")]),s("br"),s("span",{staticClass:"line-number"},[e._v("15")]),s("br")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[this._v("["),t("img",{attrs:{src:"https://common.cnblogs.com/images/copycode.gif",alt:"å¤åˆ¶ä»£ç "}}),this._v("](javascript:void(0)ğŸ˜‰")])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("sadd key member\n")])]),this._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[this._v("1")]),t("br")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[this._v("["),t("img",{attrs:{src:"https://common.cnblogs.com/images/copycode.gif",alt:"å¤åˆ¶ä»£ç "}}),this._v("](javascript:void(0)ğŸ˜‰")])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v('redis 127.0.0.1:6379> sadd runoob redis\n(integer) 1\nredis 127.0.0.1:6379> sadd runoob mongodb\n(integer) 1\nredis 127.0.0.1:6379> sadd runoob rabitmq\n(integer) 1\nredis 127.0.0.1:6379> sadd runoob rabitmq\n(integer) 0\nredis 127.0.0.1:6379> smembers runoob\n1) "redis"\n2) "rabitmq"\n3) "mongodb"\n')])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br"),s("span",{staticClass:"line-number"},[e._v("2")]),s("br"),s("span",{staticClass:"line-number"},[e._v("3")]),s("br"),s("span",{staticClass:"line-number"},[e._v("4")]),s("br"),s("span",{staticClass:"line-number"},[e._v("5")]),s("br"),s("span",{staticClass:"line-number"},[e._v("6")]),s("br"),s("span",{staticClass:"line-number"},[e._v("7")]),s("br"),s("span",{staticClass:"line-number"},[e._v("8")]),s("br"),s("span",{staticClass:"line-number"},[e._v("9")]),s("br"),s("span",{staticClass:"line-number"},[e._v("10")]),s("br"),s("span",{staticClass:"line-number"},[e._v("11")]),s("br"),s("span",{staticClass:"line-number"},[e._v("12")]),s("br")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[this._v("["),t("img",{attrs:{src:"https://common.cnblogs.com/images/copycode.gif",alt:"å¤åˆ¶ä»£ç "}}),this._v("](javascript:void(0)ğŸ˜‰")])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[this._v("â‘¤ "),t("strong",[this._v("Redis zset")]),this._v(" å’Œ set ä¸€æ ·ä¹Ÿæ˜¯stringç±»å‹å…ƒç´ çš„é›†åˆ,ä¸”ä¸å…è®¸é‡å¤çš„æˆå‘˜ã€‚")])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[this._v("ä½¿ç”¨åœºæ™¯ï¼šRedis sorted setçš„ä½¿ç”¨åœºæ™¯ä¸setç±»ä¼¼ï¼ŒåŒºåˆ«æ˜¯setä¸æ˜¯è‡ªåŠ¨æœ‰åºçš„ï¼Œè€Œsorted setå¯ä»¥é€šè¿‡ç”¨æˆ·é¢å¤–æä¾›ä¸€ä¸ªä¼˜å…ˆçº§(score)çš„å‚æ•°æ¥ä¸ºæˆå‘˜æ’åºï¼Œå¹¶ä¸”æ˜¯æ’å…¥æœ‰åºçš„ï¼Œå³è‡ªåŠ¨æ’åºã€‚å½“ä½ éœ€è¦ä¸€ä¸ªæœ‰åºçš„å¹¶ä¸”ä¸é‡å¤çš„é›†åˆåˆ—è¡¨ï¼Œé‚£ä¹ˆå¯ä»¥é€‰æ‹©sorted setæ•°æ®ç»“æ„ï¼Œæ¯”å¦‚twitter çš„public timelineå¯ä»¥ä»¥å‘è¡¨æ—¶é—´ä½œä¸ºscoreæ¥å­˜å‚¨ï¼Œè¿™æ ·è·å–æ—¶å°±æ˜¯è‡ªåŠ¨æŒ‰æ—¶é—´æ’å¥½åºçš„ã€‚å’ŒSetç›¸æ¯”ï¼Œ"),t("strong",[this._v("Sorted Setå…³è”äº†ä¸€ä¸ªdoubleç±»å‹æƒé‡å‚æ•°score")]),this._v("ï¼Œä½¿å¾—é›†åˆä¸­çš„å…ƒç´ èƒ½å¤ŸæŒ‰scoreè¿›è¡Œæœ‰åºæ’åˆ—ï¼Œredisæ­£æ˜¯é€šè¿‡åˆ†æ•°æ¥ä¸ºé›†åˆä¸­çš„æˆå‘˜è¿›è¡Œä»å°åˆ°å¤§çš„æ’åºã€‚zsetçš„æˆå‘˜æ˜¯å”¯ä¸€çš„,ä½†åˆ†æ•°(score)å´å¯ä»¥é‡å¤ã€‚æ¯”å¦‚ä¸€ä¸ªå­˜å‚¨å…¨ç­åŒå­¦æˆç»©çš„Sorted Setï¼Œå…¶é›†åˆvalueå¯ä»¥æ˜¯åŒå­¦çš„å­¦å·ï¼Œè€Œscoreå°±å¯ä»¥æ˜¯å…¶è€ƒè¯•å¾—åˆ†ï¼Œè¿™æ ·åœ¨æ•°æ®æ’å…¥é›†åˆçš„æ—¶å€™ï¼Œå°±å·²ç»è¿›è¡Œäº†å¤©ç„¶çš„æ’åºã€‚å¦å¤–è¿˜å¯ä»¥ç”¨Sorted Setæ¥åšå¸¦æƒé‡çš„é˜Ÿåˆ—ï¼Œæ¯”å¦‚æ™®é€šæ¶ˆæ¯çš„scoreä¸º1ï¼Œé‡è¦æ¶ˆæ¯çš„scoreä¸º2ï¼Œç„¶åå·¥ä½œçº¿ç¨‹å¯ä»¥é€‰æ‹©æŒ‰scoreçš„å€’åºæ¥è·å–å·¥ä½œä»»åŠ¡ã€‚è®©é‡è¦çš„ä»»åŠ¡ä¼˜å…ˆæ‰§è¡Œã€‚")])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("zadd key score member\n")])]),this._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[this._v("1")]),t("br")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[this._v("["),t("img",{attrs:{src:"https://common.cnblogs.com/images/copycode.gif",alt:"å¤åˆ¶ä»£ç "}}),this._v("](javascript:void(0)ğŸ˜‰")])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v('redis 127.0.0.1:6379> zadd runoob 0 redis\n(integer) 1\nredis 127.0.0.1:6379> zadd runoob 0 mongodb\n(integer) 1\nredis 127.0.0.1:6379> zadd runoob 0 rabitmq\n(integer) 1\nredis 127.0.0.1:6379> zadd runoob 0 rabitmq\n(integer) 0\nredis 127.0.0.1:6379> > ZRANGEBYSCORE runoob 0 1000\n1) "mongodb"\n2) "rabitmq"\n3) "redis"\n')])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br"),s("span",{staticClass:"line-number"},[e._v("2")]),s("br"),s("span",{staticClass:"line-number"},[e._v("3")]),s("br"),s("span",{staticClass:"line-number"},[e._v("4")]),s("br"),s("span",{staticClass:"line-number"},[e._v("5")]),s("br"),s("span",{staticClass:"line-number"},[e._v("6")]),s("br"),s("span",{staticClass:"line-number"},[e._v("7")]),s("br"),s("span",{staticClass:"line-number"},[e._v("8")]),s("br"),s("span",{staticClass:"line-number"},[e._v("9")]),s("br"),s("span",{staticClass:"line-number"},[e._v("10")]),s("br"),s("span",{staticClass:"line-number"},[e._v("11")]),s("br"),s("span",{staticClass:"line-number"},[e._v("12")]),s("br")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[this._v("["),t("img",{attrs:{src:"https://common.cnblogs.com/images/copycode.gif",alt:"å¤åˆ¶ä»£ç "}}),this._v("](javascript:void(0)ğŸ˜‰")])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("table",[s("thead",[s("tr",[s("th",[e._v("ç±»å‹")]),e._v(" "),s("th",[e._v("ç®€ä»‹")]),e._v(" "),s("th",[e._v("ç‰¹æ€§")]),e._v(" "),s("th",[e._v("åœºæ™¯")])])]),e._v(" "),s("tbody",[s("tr",[s("td",[e._v("String(å­—ç¬¦ä¸²)")]),e._v(" "),s("td",[e._v("äºŒè¿›åˆ¶å®‰å…¨")]),e._v(" "),s("td",[e._v("å¯ä»¥åŒ…å«ä»»ä½•æ•°æ®,æ¯”å¦‚jpgå›¾ç‰‡æˆ–è€…åºåˆ—åŒ–çš„å¯¹è±¡,ä¸€ä¸ªé”®æœ€å¤§èƒ½å­˜å‚¨512M")]),e._v(" "),s("td",[e._v("---")])]),e._v(" "),s("tr",[s("td",[e._v("Hash(å­—å…¸)")]),e._v(" "),s("td",[e._v("é”®å€¼å¯¹é›†åˆ,å³ç¼–ç¨‹è¯­è¨€ä¸­çš„Mapç±»å‹")]),e._v(" "),s("td",[e._v("é€‚åˆå­˜å‚¨å¯¹è±¡,å¹¶ä¸”å¯ä»¥åƒæ•°æ®åº“ä¸­updateä¸€ä¸ªå±æ€§ä¸€æ ·åªä¿®æ”¹æŸä¸€é¡¹å±æ€§å€¼(Memcachedä¸­éœ€è¦å–å‡ºæ•´ä¸ªå­—ç¬¦ä¸²ååºåˆ—åŒ–æˆå¯¹è±¡ä¿®æ”¹å®Œå†åºåˆ—åŒ–å­˜å›å»)")]),e._v(" "),s("td",[e._v("å­˜å‚¨ã€è¯»å–ã€ä¿®æ”¹ç”¨æˆ·å±æ€§")])]),e._v(" "),s("tr",[s("td",[e._v("List(åˆ—è¡¨)")]),e._v(" "),s("td",[e._v("é“¾è¡¨(åŒå‘é“¾è¡¨)")]),e._v(" "),s("td",[e._v("å¢åˆ å¿«,æä¾›äº†æ“ä½œæŸä¸€æ®µå…ƒç´ çš„API")]),e._v(" "),s("td",[e._v("1ã€æœ€æ–°æ¶ˆæ¯æ’è¡Œç­‰åŠŸèƒ½(æ¯”å¦‚æœ‹å‹åœˆçš„æ—¶é—´çº¿) 2ã€æ¶ˆæ¯é˜Ÿåˆ—")])]),e._v(" "),s("tr",[s("td",[e._v("Set(é›†åˆ)")]),e._v(" "),s("td",[e._v("å“ˆå¸Œè¡¨å®ç°,å…ƒç´ ä¸é‡å¤")]),e._v(" "),s("td",[e._v("1ã€æ·»åŠ ã€åˆ é™¤ã€æŸ¥æ‰¾çš„å¤æ‚åº¦éƒ½æ˜¯O(1) 2ã€ä¸ºé›†åˆæä¾›äº†æ±‚äº¤é›†ã€å¹¶é›†ã€å·®é›†ç­‰æ“ä½œ")]),e._v(" "),s("td",[e._v("1ã€å…±åŒå¥½å‹ 2ã€åˆ©ç”¨å”¯ä¸€æ€§,ç»Ÿè®¡è®¿é—®ç½‘ç«™çš„æ‰€æœ‰ç‹¬ç«‹ip 3ã€å¥½å‹æ¨èæ—¶,æ ¹æ®tagæ±‚äº¤é›†,å¤§äºæŸä¸ªé˜ˆå€¼å°±å¯ä»¥æ¨è")])]),e._v(" "),s("tr",[s("td",[e._v("Sorted Set(æœ‰åºé›†åˆ)")]),e._v(" "),s("td",[e._v("å°†Setä¸­çš„å…ƒç´ å¢åŠ ä¸€ä¸ªæƒé‡å‚æ•°score,å…ƒç´ æŒ‰scoreæœ‰åºæ’åˆ—")]),e._v(" "),s("td",[e._v("æ•°æ®æ’å…¥é›†åˆæ—¶,å·²ç»è¿›è¡Œå¤©ç„¶æ’åº")]),e._v(" "),s("td",[e._v("1ã€æ’è¡Œæ¦œ 2ã€å¸¦æƒé‡çš„æ¶ˆæ¯é˜Ÿåˆ—")])])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("h3",{attrs:{id:""}},[t("a",{staticClass:"header-anchor",attrs:{href:"#"}},[this._v("#")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("h3",{attrs:{id:"rediså®é™…åº”ç”¨åœºæ™¯"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#rediså®é™…åº”ç”¨åœºæ™¯"}},[this._v("#")]),this._v(" Rediså®é™…åº”ç”¨åœºæ™¯")])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[t("strong",[this._v("1ã€æ˜¾ç¤ºæœ€æ–°çš„é¡¹ç›®åˆ—è¡¨")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("SELECT * FROM foo WHERE ... ORDER BY time DESC LIMIT 10 \n")])]),this._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[this._v("1")]),t("br")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("LPUSH latest.comments <ID> \n")])]),this._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[this._v("1")]),t("br")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("LTRIM latest.comments 0 5000 \n")])]),this._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[this._v("1")]),t("br")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[this._v("["),t("img",{attrs:{src:"https://common.cnblogs.com/images/copycode.gif",alt:"å¤åˆ¶ä»£ç "}}),this._v("](javascript:void(0)ğŸ˜‰")])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v('FUNCTION get_latest_comments(start, num_items):  \n    id_list = redis.lrange("latest.comments",start,start+num_items - 1)  \n    IF id_list.length < num_items  \n        id_list = SQL_DB("SELECT ... ORDER BY time LIMIT ...")  \n    END  \n    RETURN id_list  \nEND \n')])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br"),s("span",{staticClass:"line-number"},[e._v("2")]),s("br"),s("span",{staticClass:"line-number"},[e._v("3")]),s("br"),s("span",{staticClass:"line-number"},[e._v("4")]),s("br"),s("span",{staticClass:"line-number"},[e._v("5")]),s("br"),s("span",{staticClass:"line-number"},[e._v("6")]),s("br"),s("span",{staticClass:"line-number"},[e._v("7")]),s("br")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[this._v("["),t("img",{attrs:{src:"https://common.cnblogs.com/images/copycode.gif",alt:"å¤åˆ¶ä»£ç "}}),this._v("](javascript:void(0)ğŸ˜‰")])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[t("strong",[this._v("2ã€åˆ é™¤ä¸è¿‡æ»¤")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("redis 127.0.0.1:6379> LREM KEY_NAME COUNT VALUE\n")])]),this._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[this._v("1")]),t("br")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[t("strong",[this._v("3ã€æ’è¡Œæ¦œç›¸å…³")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v(" ZADD leaderboard  <score>  <username>\n")])]),this._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[this._v("1")]),t("br")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[t("strong",[this._v("4ã€æŒ‰ç…§ç”¨æˆ·æŠ•ç¥¨å’Œæ—¶é—´æ’åº")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[t("strong",[this._v("5ã€å¤„ç†è¿‡æœŸé¡¹ç›®")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[t("strong",[this._v("6ã€è®¡æ•°")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("INCR user:<id> EXPIRE \n\nuser:<id> 60 \n")])]),this._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[this._v("1")]),t("br"),t("span",{staticClass:"line-number"},[this._v("2")]),t("br"),t("span",{staticClass:"line-number"},[this._v("3")]),t("br")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[t("strong",[this._v("7ã€ç‰¹å®šæ—¶é—´å†…çš„ç‰¹å®šé¡¹ç›®")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("SADD page:day1:<page_id> <user_id>\n")])]),this._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[this._v("1")]),t("br")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("SCARD page:day1:<page_id>\n")])]),this._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[this._v("1")]),t("br")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("SISMEMBER page:day1:<page_id>\n")])]),this._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[this._v("1")]),t("br")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[t("strong",[this._v("8ã€å®æ—¶åˆ†ææ­£åœ¨å‘ç”Ÿçš„æƒ…å†µï¼Œç”¨äºæ•°æ®ç»Ÿè®¡ä¸é˜²æ­¢åƒåœ¾é‚®ä»¶ç­‰")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[t("strong",[this._v("9ã€Pub/Sub")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[t("strong",[this._v("10ã€é˜Ÿåˆ—")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[t("strong",[this._v("11ã€ç¼“å­˜")])])}],!1,null,null,null);t.default=a.exports}}]);